/* @license Copyright 2017 Dan Vanderkam (danvdk@gmail.com) MIT-licensed (http://opensource.org/licenses/MIT) */var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(f){var a=0;return function(){return a<f.length?{done:!1,value:f[a++]}:{done:!0}}};$jscomp.arrayIterator=function(f){return{next:$jscomp.arrayIteratorImpl(f)}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(f,a,d){f!=Array.prototype&&f!=Object.prototype&&(f[a]=d.value)};$jscomp.getGlobal=function(f){return"undefined"!=typeof window&&window===f?f:"undefined"!=typeof global&&null!=global?global:f};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var f=0;return function(a){return $jscomp.SYMBOL_PREFIX+(a||"")+f++}}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.iterator;f||(f=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[f]&&$jscomp.defineProperty(Array.prototype,f,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}});$jscomp.initSymbolIterator=function(){}};$jscomp.initSymbolAsyncIterator=function(){$jscomp.initSymbol();var f=$jscomp.global.Symbol.asyncIterator;f||(f=$jscomp.global.Symbol.asyncIterator=$jscomp.global.Symbol("asyncIterator"));$jscomp.initSymbolAsyncIterator=function(){}};$jscomp.iteratorPrototype=function(f){$jscomp.initSymbolIterator();f={next:f};f[$jscomp.global.Symbol.iterator]=function(){return this};return f};$jscomp.objectCreate=$jscomp.ASSUME_ES5||"function"==typeof Object.create?Object.create:function(f){var a=function(){};a.prototype=f;return new a};$jscomp.underscoreProtoCanBeSet=function(){var f={a:!0},a={};try{return a.__proto__=f,a.a}catch(d){}return!1};$jscomp.setPrototypeOf="function"==typeof Object.setPrototypeOf?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(f,a){f.__proto__=a;if(f.__proto__!==a)throw new TypeError(f+" is not extensible");return f}:null;$jscomp.inherits=function(f,a){f.prototype=$jscomp.objectCreate(a.prototype);f.prototype.constructor=f;if($jscomp.setPrototypeOf){var d=$jscomp.setPrototypeOf;d(f,a)}else for(d in a)if("prototype"!=d)if(Object.defineProperties){var b=Object.getOwnPropertyDescriptor(a,d);b&&Object.defineProperty(f,d,b)}else f[d]=a[d];f.superClass_=a.prototype};var BUNDLE=!0;globalThis.modules={};function globalexport(f){for(var a in f)globalThis[a]=f[a]}globalThis.globalexport=globalexport;var callpile=[],callunpiling=!1;function loadremote(f,a,d){var b=new XMLHttpRequest;callpile.push([f,a,d]);1!=callpile.length||callunpiling||setTimeout(unpile,500,null);callunpiling=!0;return b}function unpile(){var f=callpile.shift();loadRemoteNow(f[0],function(a,d){f[1](a,d);0<callpile.length?setTimeout(unpile,50,null):callunpiling=!1},f[2])}function loadRemoteNow(f,a,d){"function"===typeof d&&(d={initf:d});var b=new XMLHttpRequest;var g=d&&d.retries?d.retries:10;b.onreadystatechange=function(){if(4==this.readyState)if(console.log("connection status:"+this.status),200==this.status||206==this.status||202==this.status)b.response?a(b.response,b):a(b.responseText,b);else if(503==this.status)if(d&&d.retryCallback)d.retryCallback(b.response,b);else{var k=b.getResponseHeader("Retry-After");k&&0<g?(setTimeout(loadRemote,1E3*k,f,a,d),console.log("retry after :"+k+"sec")):a(null,b)}else 0!=this.status&&404!=this.status&&304!=this.status||a(null,b)};console.log("loadRemote "+f);b.open("GET",f,!0);d&&d.initf&&d.initf(b);b.send()}function loadFav(f,a){var d=document.createElement("link");d.onload=a;d.rel="icon";d.sizes="32x32";d.href=f;document.getElementsByTagName("head")[0].appendChild(d)}var loadJS=function(f,a,d){null==d&&(d=document.getElementsByTagName("head")[0]);var b=document.createElement("script");b.src=f;b.onload=a;b.onreadystatechange=a;d.appendChild(b);console.log("loading remote script "+f)};function loadMultiJS(f,a){if(1==f.length)return loadJS(f[0],a);var d=f.slice(1,f.length);loadJS(f[0],function(){loadMultiJS(d,a)})}globalThis.globalexport({loadremote:loadremote,loadFav:loadFav,loadMultiJS:loadMultiJS});var EventEmitter=function(){this.events={}};EventEmitter.prototype.subscribe=function(f,a){this.events[f]||(this.events[f]=[]);this.events[f].push(a)};EventEmitter.prototype.unsubscribe=function(f,a){this.events[f]=this.events[f].filter(function(f){return a!==f})};EventEmitter.prototype.emit=function(f,a){var d=this.events[f];d&&d.forEach(function(f){f.call(null,a)})};globalThis.modules["EventEmitter.js"]={};globalThis.modules["EventEmitter.js"].exports={EventEmitter:EventEmitter};var jp=JSON.parse,js=JSON.stringify,MILLIFACTOR=1E3;String.prototype.replaceAll=function(f,a){return this.split(f).join(a)};function isDigit(f){return!isNaN(parseFloat(f))}var LOGURL="/log/",NEWSTREAMTAG="newstream",RemoteModel=function(f){EventEmitter.call(this);this.espip=f?f:"";this.refreshperiodsec=10;this.serverinfo={};console.log("RemoteModel");this.rlog=new RemoteLog};$jscomp.inherits(RemoteModel,EventEmitter);RemoteModel.prototype.load=function(){loadremote(this.espip+"/data",function(f,a){this.updateServerStatus(a);var d={};this.parseContent(f,d)&&d.result&&0!=d.result.length&&(this.updateServerOnline("data"),this.datats=(new Date).getTime(),this.data=d.result,this.emit("load",""))}.bind(this),this.prerequest.bind(this))};RemoteModel.prototype.reload=function(){loadremote(this.espip+"/data",function(f,a){this.updateServerStatus(a);var d={};this.parseContent(f,d)&&d.result&&0!=d.result.length&&(this.updateServerOnline("data"),this.datats=(new Date).getTime(),this.data=d.result,this.emit("reload",""))}.bind(this),this.prerequest.bind(this))};RemoteModel.prototype.getLastLogTS=function(){return this.log[this.log.length-1][0]};RemoteModel.prototype.init=function(){this.load();this.refreshInterval=setInterval(function(){this.reload()}.bind(this),1E3*this.refreshperiodsec);this.rlog.init(this);console.log("Model init ended")};RemoteModel.prototype.updateServerStatus=function(f){this.serverinfo.status="online";if(f=f.getResponseHeader("x-BootTime"))this.serverinfo.boottime=f,console.log("boottime:"+f)};RemoteModel.prototype.updateServerOnline=function(f){this.serverinfo[f]="ok";this.emit("serverinfo","")};RemoteModel.prototype.parseContent=function(f,a){if(!f||0==f.length)return console.error("Received no content, server offline ? :"+f),this.serverinfo.status="offline",this.emit("serverinfo",""),!1;this.serverinfo.lastresponsetime=(new Date).getTime();try{var d=jp(f)}catch(b){return console.error("received non parsable json:"+f),this.serverinfo.status="error",this.emit("serverinfo",""),!1}a.result=d;return!0};RemoteModel.prototype.prerequest=function(f){f.setRequestHeader("x-BootTime","?")};RemoteModel.prototype.updateServerError=function(){this.serverinfo.status="error";this.emit("serverinfo","")};var RemoteLog=function(){this.logrefreshperiodsec=10};RemoteLog.prototype.init=function(f){this.loadlog(f);this.refreshInterval=setInterval(function(){this.reloadlog(f)}.bind(this),1E3*this.logrefreshperiodsec)};RemoteLog.prototype.loadlog=function(f){this.o=f;loadremote(f.espip+LOGURL,function(a,f){this.updateServerStatus(f);var b={},d=this.parseContent(a,b);d&&b.result&&0!=b.result.length&&(this.updateServerOnline("log"),d=this.rlog.processLog(b.result),delete b.result,d&&(this.series=getSeriesLogv15(this.log,Object.keys(this.rlog.lognames)),this.labels=["Date"].concat(Object.keys(this.rlog.lognames)),this.emit("logload","")))}.bind(f),f.prerequest.bind(f))};RemoteLog.prototype.reloadlog=function(f){if(!this.downloading)if("0.16"==this.logversion){this.o=f;var a=this.log[this.log.length-1][0];a=isDigit(a)?"?fromTS="+parseInt(a):"";loadremote(f.espip+LOGURL+a,function(f,a){this.updateServerStatus(a);var b={},d=this.parseContent(f,b);d&&b.result&&0!=b.result.length&&(this.updateServerOnline("log"),d=this.rlog.processLog(b.result))&&(this.series=getSeriesLogv15(this.log,Object.keys(this.rlog.lognames)),this.labels=["Date"].concat(Object.keys(this.rlog.lognames)),this.emit("logreload",""))}.bind(f),f.prerequest.bind(f))}else"0.20"==this.logversion&&this.reloadLogv020(f)};RemoteLog.prototype.parseID=function(f){var a="",d;for(d in f)isDigit(f[d])&&(a+=f[d]);return parseInt(a)};RemoteLog.prototype.processLog=function(f){"string"==typeof f[0]?(this.logversion="0.20",this.filenames=f,f=this.loadLogFiles(f)):(this.logversion="0.16",f=this.mergeLog(f),this.o.log=this.log);return f};RemoteLog.prototype.extract=function(f){var a=this.lastlogfileraw+f,d="",b=a.lastIndexOf("[["),g=a.lastIndexOf("[{");g>b&&(b=g);b=a.indexOf("{",b);g=a.lastIndexOf("}");0<g&&(d="["+a.substr(b,g+1-b)+",");"]"!=f[0]&&(d+=a.substr(a.lastIndexOf("[")));return d};RemoteLog.prototype.loadLogFiles=function(f,a){a=void 0===a?0:a;this.downloading=!0;var d=function(b,g){if(b){console.log("t:"+b);"]]"!=b.substring(b.length-2,b.length)&&(this.lastlogfileincomplete=!0,this.lastlogfilesize=b.length,this.lastlogfileraw="",this.lastlogfileraw=this.extract(b),console.log("extract : "+this.lastlogfileraw),b+="]]");b="["+b+"]";try{var k=JSON.parse(b)}catch(h){return console.error("received non parsable json log file "+f[this.index]+":"+b),this.o.updateServerError(),!1}for(var e in k)this.mergeLog(k[e]);this.o.log=this.log;this.o.series=getSeriesLogv15(this.log,Object.keys(this.lognames));this.labels=["Date"].concat(Object.keys(this.rlog.lognames));this.o.emit("logload","")}d.index>a?(d.index--,loadremote(this.o.espip+LOGURL+f[d.index],d.bind(this))):this.downloading=!1;return!0};d.index=f.length-1;loadremote(this.o.espip+LOGURL+f[d.index],d.bind(this));return!1};RemoteLog.prototype.reloadLogv020=function(f){if(this.lastlogfileincomplete)this.downloading=!0,loadremote(f.espip+LOGURL+this.filenames[this.filenames.length-1]+"?range="+this.lastlogfilesize+"-",function(f,a){this.o.updateServerStatus(a);if(f){if("]]"==f)return this.lastlogfileincomplete=!1,this.reloadLogv020(this.o),!0;this.lastlogfilesize+=f.length;"]]"==f.substr(0,2)?(this.lastlogfileraw="",f=f.substr(3)):"]"==f[0]&&(this.lastlogfileraw=this.lastlogfileraw.substr(0,this.lastlogfileraw.lastIndexOf("[")),f=f.substr(2));"]]"!=f.substring(f.length-2,f.length)?this.lastlogfileincomplete=!0:this.lastlogfileincomplete=!1;var b=this.lastlogfileraw+f;this.lastlogfileincomplete?(this.lastlogfileraw=this.extract(b),b+="]]"):this.lastlogfileraw="";f="["+b+"]";try{var d=JSON.parse(f)}catch(h){return console.error("received non parsable json log file "+this.filenames[this.index]+":"+f),this.o.updateServerError(),!1}for(var e in d)this.mergeLog(d[e]);this.o.log=this.log;this.o.series=getSeriesLogv15(this.log,Object.keys(this.lognames));this.labels=["Date"].concat(Object.keys(this.rlog.lognames));this.o.emit("logreload","")}this.downloading=!1;return!0}.bind(this),f.prerequest.bind(f));else{this.o=f;var a=this.parseID(this.filenames[this.filenames.length-1])+1;loadremote(f.espip+LOGURL+"?fromID="+a,function(f,a){this.o.updateServerStatus(a);var b={},d=this.o.parseContent(f,b);if(d&&b.result&&0!=b.result.length&&(this.o.updateServerOnline("log"),b.result)){d=this.filenames.length;for(var e in b.result)this.filenames.push(b.result[e]);(d=this.loadLogFiles(this.filenames,d))&&this.emit("logload","")}}.bind(this),f.prerequest.bind(f))}};RemoteLog.prototype.mergeLog=function(f){if(!f||0==f.length||0==f[0].length)return console.log("Log data table received from /log/ empty."),!1;this.logts=(new Date).getTime();this.prepareData(f);this.log||(this.log=[]);this.lognames||(this.lognames={});for(var a in f)if(Array.isArray(f[a]),!Array.isArray(f[a])&&!f[a].sync){Object.assign(this.lognames,f[a]);break}this.log[0]=this.lognames;a=!1;var d=0,b;for(b in this.log)if(!isNaN(parseInt(this.log[b][0]))){d=b;break}console.log("mergeLog : "+f[1]);for(b in f)if(f[b][0]==NEWSTREAMTAG&&(a=!0),!isNaN(parseInt(f[b][0]))){if(1==this.log.length)a&&this.log.push([NEWSTREAMTAG]),this.log.push(f[b]),d=1;else if(f[b][0]>this.log[this.log.length-1][0])a&&this.log.push([NEWSTREAMTAG]),this.log.push(f[b]);else if(f[b][0]<this.log[d][0])a&&this.log.splice(d,0,[NEWSTREAMTAG]),this.log.splice(d,0,f[b]);else for(var g=d;g<this.log.length;g++){if(this.log[g][0]==f[b][0]){this.mergeLine(f[b],this.log[g]);break}if(this.log[g][0]>f[b][0]){0<g&&isNaN(parseInt(this.log[g-1][0]))&&g--;this.log.splice(g,0,f[b]);a&&this.log.splice(g,0,[NEWSTREAMTAG]);break}}a=!1}return!0};RemoteLog.prototype.mergeLine=function(f,a){for(var d=1;d<f.length;d+=2){for(var b=!1,g=1;g<a.length;g+=2)if(f[d]==a[g]){f[d+1]!=a[g+1]&&(a[g+1]=f[d+1]);b=!0;break}b||(a[a.length]=f[d],a[a.length]=f[d+1])}};RemoteLog.prototype.prepareData=function(f){var a=0,d;for(d in f)f[d].sync&&!isNaN(parseInt(f[d].sync))?a=f[d].sync:Array.isArray(f[d])&&!isNaN(parseInt(f[d][0]))&&(f[d][0]=a+f[d][0])};function getSeriesLogv15(f,a){var d=[];Object.keys(a);var b=f.slice(0),g={};for(k in b)if(Array.isArray(b[k]),!Array.isArray(b[k])&&!b[k].sync){g=b[k];break}var k={};for(var e in a)for(var h in g)if(h==a[e]){k[g[h]]=Number.parseInt(e);break}g=a.length;for(var c in b)if(e=b[c],Array.isArray(e)&&!isNaN(parseInt(e[0]))){var m=e[0]*MILLIFACTOR;h=Array(g+1);h.fill(null);h[0]=new Date(m);for(m=1;m<e.length;m+=2){var w=k[e[m]]+1,v=Number.parseFloat(e[m+1]);h[w]=v}d.push(h)}return d}globalThis.modules["RemoteModel.js"]={};globalThis.modules["RemoteModel.js"].exports={RemoteModel:RemoteModel};var Component=function(f){this.components=[];this.name=void 0===f?"":f};Component.prototype.addComponent=function(f){void 0!=f&&void 0!=f.name||console.log("problem");this.components.push(f)};Component.prototype.addComponentAlphabeticOrder=function(f,a){a=void 0===a?0:a;a||(a=f.name);void 0!=f&&void 0!=f.name||console.log("problem");for(var d in this.components)if(this.components[d].name>a){this.components.splice(d,0,f);return}this.components.push(f)};Component.prototype.getComponent=function(f){for(var a in this.components)if(this.components[a].name==f)return this.components[a];return null};Component.prototype.hasComponent=function(f){for(var a in this.components)if(this.components[a].name==f)return!0;return!1};Component.prototype.getHtml=function(){var f="";this.pretag&&(f+=this.pretag);this.tag&&(f+="<"+this.tag,this.name&&(f+=" id='"+this.name+"'"),this.style&&(f+=" style='"+this.style+"'"),this.extra&&(f+=" "+this.extra),f+=">");f+=this.getChildrenHtml();this.tag&&(f+="</"+this.tag+">");this.posttag&&(f+=this.posttag);return f};Component.prototype.getChildrenHtml=function(){var f="";for(name in this.components)f+=this.components[name].getHtml();return f};Component.prototype.findByName=function(f){for(var a in this.components){if(this.components[a].name==f)return this.components[a];var d=this.components[a].findByName(f);if(d)return d}};Component.prototype.updateProperty=function(f,a){var d=geid(this.name);d&&(d[f]=a)};Component.prototype.updateStyle=function(f,a){var d=geid(this.name);d&&(d.style[f]=a)};var Panel=function(f,a,d){Component.call(this,f,a);var b="<div id='"+this.name+"';";a&&(b+=" style='"+a+"'");b=void 0!=d?b+("><fieldset id='"+this.name+"fieldset' class='pure-fieldset'><legend>"+d+"</legend>"):b+("><fieldset id='"+this.name+"fieldset' class='pure-fieldset'><legend>"+this.name+"</legend>");f&&(this.pretag=b,this.posttag="</fieldset></div>")};$jscomp.inherits(Panel,Component);Panel.prototype.addPanel=function(f,a){var d=new Panel(f,a);this.addComponent(d);return d};var Table=function(f){Component.call(this,f);this.pretag="<div><table id='"+this.name+"' class='pure-table pure-table-bordered pure-table-striped'><thead><caption>"+this.name+"</caption></thead> <tbody>";this.posttag="</tbody></table></div>"};$jscomp.inherits(Table,Component);var TableRow=function(f){Component.call(this,f);this.tag="tr"};$jscomp.inherits(TableRow,Component);var TableCell=function(f){Component.call(this,f);this.tag="td"};$jscomp.inherits(TableCell,Component);var DivComponent=function(f){Component.call(this,f);this.tag="div"};$jscomp.inherits(DivComponent,Component);var TextLabel=function(f,a){a=void 0===a?"":a;Component.call(this,f);this.text=a;this.fontsize=1};$jscomp.inherits(TextLabel,Component);TextLabel.prototype.getHtml=function(){var f="<div id='"+this.name+"'";this.style&&(f+=" style='"+this.style+"'");f+=">";1!=this.fontsize&&(f+="<font style='font-size:"+100*this.fontsize+"%'>");f+=this.text;1!=this.fontsize&&(f+="</font>");return f+"</div>"};TextLabel.prototype.update=function(f){this.text=f;document.getElementById(this.name).outerHTML=this.getHtml()};var SelectComponent=function(f,a,d){d=void 0===d?0:d;Component.call(this,f);this.entries=a;this.selected=d;this.style="";this.extra=" onchange='objectChange(this);'";subscribeObject(this.name,this)};$jscomp.inherits(SelectComponent,Component);SelectComponent.prototype.changed=function(f,a){if(!this.notify||this.notify(this.entries[a]))this.selected=a,this.postnotify&&this.postnotify(a)};SelectComponent.prototype.getHtml=function(){var f="<select id='"+this.name+"'";this.style&&(f+=" style='"+this.style+"'");this.extra&&(f+=this.extra);f+=">";for(var a in this.entries){var d=this.entries[a];f+="<option value='"+a+"'";a==this.selected&&(f+=" selected");f+=">"+d+"</option>"}f+="</select>";this.posttag&&(f+=this.posttag);return f};SelectComponent.prototype.update=function(f){this.text=f;document.getElementById(this.name).outerHTML=this.getHtml()};function delayEvent(f){setTimeout(function(){objectChange(f)},50)}var TextAreaComponent=function(f,a,d){Component.call(this,f);this.text=a;this.style="";this.tag="input";this.extra=" type='text' value='"+this.text+"' onchange ='objectChange(this);' onkeydown='delayEvent(this)' onpaste='delayEvent(this)' oncut='delayEvent(this)'  onKeyPress ='delayEvent(this)' onKeyUp ='delayEvent(this);'";subscribeObject(this.name,this);d&&(this.extra+="size="+d,this.style+="width:"+d+"em;")};$jscomp.inherits(TextAreaComponent,Component);TextAreaComponent.prototype.changed=function(f,a){var d=geid(this.name).value;this.text==d||this.notify&&!this.notify(d)||(this.text=d,this.postnotify&&this.postnotify(d))};TextAreaComponent.prototype.update=function(f){this.text=f;document.getElementById(this.name).outerHTML=this.getHtml()};var ComponentFactory={create:function(f,a,d,b,g,k){if("BinaryComponent"==a){if("labels"==d)return new LabelBinaryComponent(f,b,g,k);if("select"==d)return new SelectBinaryComponent(f,b,g,k)}}},BinaryComponent=function(f){Component.call(this,f);this.state=0};$jscomp.inherits(BinaryComponent,Component);var objlist={};function objectChange(f){var a=objlist[f.id];a&&a.changed(f.id,f.value)}function subscribeObject(f,a){objlist[f]=a}var lightgray="#BBBBBB",SelectBinaryComponent=function(f,a,d){BinaryComponent.call(this,f);this.content=new SelectComponent(f+"content",[a,d]);this.addComponent(this.content);this.tag="div";this.style="display:inline-block;cursor: pointer;";this.content.style="font-size:inherit;cursor:inherit;";this.extra+=" onchange='objectChange(this)'";subscribeObject(this.name,this);this.state=!1};$jscomp.inherits(SelectBinaryComponent,BinaryComponent);SelectBinaryComponent.prototype.changed=function(f,a){if(!this.notify||this.notify())this.state=geid(this.name).children[0].children[1].selected,this.postnotify&&this.postnotify()};var LabelBinaryComponent=function(f,a,d,b){b||(b={border:!0,usegray:!0});BinaryComponent.call(this,f);this.offlabel=new TextLabel(this.name+"off",a);this.onlabel=new TextLabel(this.name+"on",d);this.onlabel.style="display: none;";this.style="cursor: pointer;display:inline-block;";b.border&&(this.style+="border-style: solid;border-width: 1px;");b.usegray&&(this.style+="color:"+lightgray+";",this.offlabel.style="color:"+lightgray+";");this.tag="div";this.extra=" onclick='objectChange(this)'";subscribeObject(this.name,this);this.addComponent(this.offlabel);this.addComponent(this.onlabel);this.opt=b};$jscomp.inherits(LabelBinaryComponent,BinaryComponent);LabelBinaryComponent.prototype.changed=function(f,a){console.log("Changed ! "+f+" "+a);if(!this.notify||this.notify(this))this.changeState(),this.postnotify&&this.postnotify(this)};LabelBinaryComponent.prototype.changeState=function(){(this.state=!this.state)?(this.onlabel.updateStyle("display","block"),this.offlabel.updateStyle("display","none"),this.opt.usegray&&this.updateStyle("color","black")):(this.onlabel.updateStyle("display","none"),this.offlabel.updateStyle("display","block"),this.opt.usegray&&this.updateStyle("color",lightgray))};globalThis.modules["ui/Component.js"]={};globalThis.modules["ui/Component.js"].exports={Component:Component,ComponentFactory:ComponentFactory,TextAreaComponent:TextAreaComponent,SelectComponent:SelectComponent,DivComponent:DivComponent,Panel:Panel,Table:Table,TableRow:TableRow,TableCell:TableCell,TextLabel:TextLabel};var Dygraph;!function(f){Dygraph=f();"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).Dygraph=f()}(function(){return function g(a,d,b){function k(c,h){if(!d[c]){if(!a[c]){var m="function"==typeof require&&require;if(!h&&m)return m(c,!0);if(e)return e(c,!0);m=Error("Cannot find module '"+c+"'");throw m.code="MODULE_NOT_FOUND",m;}m=d[c]={exports:{}};a[c][0].call(m.exports,function(e){return k(a[c][1][e]||e)},m,m.exports,g,a,d,b)}return d[c].exports}for(var e="function"==typeof require&&require,h=0;h<b.length;h++)k(b[h]);return k}({1:[function(a,d,b){function g(){throw Error("setTimeout has not been defined");}function k(){throw Error("clearTimeout has not been defined");}function e(c){if(n===setTimeout)return setTimeout(c,0);if((n===g||!n)&&setTimeout)return n=setTimeout,setTimeout(c,0);try{return n(c,0)}catch(A){try{return n.call(null,c,0)}catch(F){return n.call(this,c,0)}}}function h(c){if(q===clearTimeout)return clearTimeout(c);if((q===k||!q)&&clearTimeout)return q=clearTimeout,clearTimeout(c);try{return q(c)}catch(A){try{return q.call(null,c)}catch(F){return q.call(this,c)}}}function c(){u&&l&&(u=!1,l.length?p=l.concat(p):z=-1,p.length&&m())}function m(){if(!u){var a=e(c);u=!0;for(var m=p.length;m;){l=p;for(p=[];++z<m;)l&&l[z].run();z=-1;m=p.length}l=null;u=!1;h(a)}}function w(c,a){this.fun=c;this.array=a}function v(){}a=d.exports={};try{var n="function"==typeof setTimeout?setTimeout:g}catch(y){n=g}try{var q="function"==typeof clearTimeout?clearTimeout:k}catch(y){q=k}!0;var l,p=[],u=!1,z=-1;a.nextTick=function(c){var a=Array(arguments.length-1);if(1<arguments.length)for(var h=1;h<arguments.length;h++)a[h-1]=arguments[h];p.push(new w(c,a));1!==p.length||u||e(m)};w.prototype.run=function(){this.fun.apply(null,this.array)};a.title="browser";a.browser=!0;a.env={};a.argv=[];a.version="";a.versions={};a.on=v;a.addListener=v;a.once=v;a.off=v;a.removeListener=v;a.removeAllListeners=v;a.emit=v;a.prependListener=v;a.prependOnceListener=v;a.listeners=function(c){return[]};a.binding=function(c){throw Error("process.binding is not supported");};a.cwd=function(){return"/"};a.chdir=function(c){throw Error("process.chdir is not supported");};a.umask=function(){return 0}},{}],2:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});a=a("./bars");var g=function(){};g.prototype=new (a&&a.__esModule?a:{"default":a})["default"];g.prototype.extractSeries=function(a,e,h){for(var c,m,b=[],d=h.get("logscale"),g=0;g<a.length;g++)h=a[g][0],m=a[g][e],d&&null!==m&&(0>=m[0]||0>=m[1]||0>=m[2])&&(m=null),null!==m?(c=m[1],null===c||isNaN(c)?b.push([h,c,[c,c]]):b.push([h,c,[m[0],m[2]]])):b.push([h,null,[null,null]]);return b};g.prototype.rollingAverage=function(a,e,h){e=Math.min(e,a.length);var c,m,b,d,g,k,l=[];for(g=d=m=b=h=0;g<a.length;g++){if(c=a[g][1],k=a[g][2],l[g]=a[g],null===c||isNaN(c)||(h+=k[0],b+=c,m+=k[1],d+=1),0<=g-e){var p=a[g-e];null===p[1]||isNaN(p[1])||(h-=p[2][0],b-=p[1],m-=p[2][1],--d)}l[g]=d?[a[g][0],1*b/d,[1*h/d,1*m/d]]:[a[g][0],null,[null,null]]}return l};b["default"]=g;d.exports=b["default"]},{"./bars":5}],3:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});a=a("./bars");var g=function(){};g.prototype=new (a&&a.__esModule?a:{"default":a})["default"];g.prototype.extractSeries=function(a,e,h){for(var c,m,b,d=[],g=h.get("sigma"),k=h.get("logscale"),l=0;l<a.length;l++)h=a[l][0],b=a[l][e],k&&null!==b&&(0>=b[0]||0>=b[0]-g*b[1])&&(b=null),null!==b?(c=b[0],null===c||isNaN(c)?d.push([h,c,[c,c,c]]):(m=g*b[1],d.push([h,c,[c-m,c+m,b[1]]]))):d.push([h,null,[null,null,null]]);return d};g.prototype.rollingAverage=function(a,e,h){e=Math.min(e,a.length);var c,b,d,g,k,q,l,p=[],u=h.get("sigma");for(h=0;h<a.length;h++){var z=q=g=0;for(c=Math.max(0,h-e+1);c<h+1;c++)null===(b=a[c][1])||isNaN(b)||(z++,g+=b,q+=Math.pow(a[c][2][2],2));z?(k=Math.sqrt(q)/z,l=g/z,p[h]=[a[h][0],l,[l-u*k,l+u*k]]):(d=1==e?a[h][1]:null,p[h]=[a[h][0],d,[d,d]])}return p};b["default"]=g;d.exports=b["default"]},{"./bars":5}],4:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});a=a("./bars");var g=function(){};g.prototype=new (a&&a.__esModule?a:{"default":a})["default"];g.prototype.extractSeries=function(a,e,h){for(var c,b,d,g,k,q,l,p=[],u=h.get("sigma"),z=h.get("logscale"),y=0;y<a.length;y++)h=a[y][0],b=a[y][e],z&&null!==b&&(0>=b[0]||0>=b[1])&&(b=null),null!==b?(d=b[0],g=b[1],null===d||isNaN(d)?p.push([h,d,[d,d,d,g]]):(k=g?d/g:0,q=g?u*Math.sqrt(k*(1-k)/g):1,l=100*q,c=100*k,p.push([h,c,[c-l,c+l,d,g]]))):p.push([h,null,[null,null,null,null]]);return p};g.prototype.rollingAverage=function(a,e,h){e=Math.min(e,a.length);var c=[],b=h.get("sigma"),d=h.get("wilsonInterval"),g=0,k=0;for(h=0;h<a.length;h++){g+=a[h][2][2];k+=a[h][2][3];0<=h-e&&(g-=a[h-e][2][2],k-=a[h-e][2][3]);var q=a[h][0];var l=k?g/k:0;if(d)if(k){var p=0>l?0:l;l=k;var u=b*Math.sqrt(p*(1-p)/l+b*b/(4*l*l));var z=1+b*b/k;l=(p+b*b/(2*k)-u)/z;u=(p+b*b/(2*k)+u)/z;c[h]=[q,100*p,[100*l,100*u]]}else c[h]=[q,0,[0,0]];else p=k?b*Math.sqrt(l*(1-l)/k):1,c[h]=[q,100*l,[100*(l-p),100*(l+p)]]}return c};b["default"]=g;d.exports=b["default"]},{"./bars":5}],5:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=a("./datahandler"),k=g&&g.__esModule?g:{"default":g},e=(a=a("../dygraph-layout"))&&a.__esModule?a:{"default":a};a=function(){k["default"].call(this)};a.prototype=new k["default"];a.prototype.extractSeries=function(a,c,e){};a.prototype.rollingAverage=function(a,c,e){};a.prototype.onPointsCreated_=function(a,c){for(var e=0;e<a.length;++e){var h=a[e],b=c[e];b.y_top=NaN;b.y_bottom=NaN;b.yval_minus=k["default"].parseFloat(h[2][0]);b.yval_plus=k["default"].parseFloat(h[2][1])}};a.prototype.getExtremeYValues=function(a,c,e){var h;e=c=null;for(var b=a.length-1,d=0;d<=b;d++)if(null!==(h=a[d][1])&&!isNaN(h)){var m=a[d][2][0],g=a[d][2][1];m>h&&(m=h);g<h&&(g=h);(null===e||g>e)&&(e=g);(null===c||m<c)&&(c=m)}return[c,e]};a.prototype.onLineEvaluated=function(a,c,b){for(var h,d=0;d<a.length;d++)h=a[d],h.y_top=e["default"].calcYNormal_(c,h.yval_minus,b),h.y_bottom=e["default"].calcYNormal_(c,h.yval_plus,b)};b["default"]=a;d.exports=b["default"]},{"../dygraph-layout":13,"./datahandler":6}],6:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=function(){};g.X=0;g.Y=1;g.EXTRAS=2;g.prototype.extractSeries=function(a,e,h){};g.prototype.seriesToPoints=function(a,e,h){for(var c=[],b=0;b<a.length;++b){var d=a[b],k=d[1];k=null===k?null:g.parseFloat(k);d={x:NaN,y:NaN,xval:g.parseFloat(d[0]),yval:k,name:e,idx:b+h};c.push(d)}return this.onPointsCreated_(a,c),c};g.prototype.onPointsCreated_=function(a,e){};g.prototype.rollingAverage=function(a,e,h){};g.prototype.getExtremeYValues=function(a,e,h){};g.prototype.onLineEvaluated=function(a,e,h){};g.parseFloat=function(a){return null===a?NaN:a};b["default"]=g;d.exports=b["default"]},{}],7:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});a("./datahandler");a=a("./default");var g=function(){};g.prototype=new (a&&a.__esModule?a:{"default":a})["default"];g.prototype.extractSeries=function(a,e,h){for(var c,b,d,g,k,q=[],l=h.get("logscale"),p=0;p<a.length;p++)h=a[p][0],b=a[p][e],l&&null!==b&&(0>=b[0]||0>=b[1])&&(b=null),null!==b?(d=b[0],g=b[1],null===d||isNaN(d)?q.push([h,d,[d,g]]):(k=g?d/g:0,c=100*k,q.push([h,c,[d,g]]))):q.push([h,null,[null,null]]);return q};g.prototype.rollingAverage=function(a,e,h){e=Math.min(e,a.length);var c=[],b=0,d=0;for(h=0;h<a.length;h++)b+=a[h][2][0],d+=a[h][2][1],0<=h-e&&(b-=a[h-e][2][0],d-=a[h-e][2][1]),c[h]=[a[h][0],100*(d?b/d:0)];return c};b["default"]=g;d.exports=b["default"]},{"./datahandler":6,"./default":8}],8:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});a=a("./datahandler");var g=function(){};g.prototype=new (a&&a.__esModule?a:{"default":a})["default"];g.prototype.extractSeries=function(a,e,h){var c=[];h=h.get("logscale");for(var b=0;b<a.length;b++){var d=a[b][0],g=a[b][e];h&&0>=g&&(g=null);c.push([d,g])}return c};g.prototype.rollingAverage=function(a,e,h){e=Math.min(e,a.length);var c,b,d,g=[];if(1==e)return a;for(h=0;h<a.length;h++){var k=d=0;for(c=Math.max(0,h-e+1);c<h+1;c++)null===(b=a[c][1])||isNaN(b)||(k++,d+=a[c][1]);g[h]=k?[a[h][0],d/k]:[a[h][0],null]}return g};g.prototype.getExtremeYValues=function(a,e,h){var c;h=e=null;for(var b=a.length-1,d=0;d<=b;d++)null===(c=a[d][1])||isNaN(c)||((null===h||c>h)&&(h=c),(null===e||c<e)&&(e=c));return[e,h]};b["default"]=g;d.exports=b["default"]},{"./datahandler":6}],9:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e]);return c["default"]=a,c}(a("./dygraph-utils")),k=(a=a("./dygraph"))&&a.__esModule?a:{"default":a},e=function(a,c,e,b){if(this.dygraph_=a,this.layout=b,this.element=c,this.elementContext=e,this.height=a.height_,this.width=a.width_,!g.isCanvasSupported(this.element))throw"Canvas is not supported.";this.area=b.getPlotArea();a=this.dygraph_.canvas_ctx_;a.beginPath();a.rect(this.area.x,this.area.y,this.area.w,this.area.h);a.clip();a=this.dygraph_.hidden_ctx_;a.beginPath();a.rect(this.area.x,this.area.y,this.area.w,this.area.h);a.clip()};e.prototype.clear=function(){this.elementContext.clearRect(0,0,this.width,this.height)};e.prototype.render=function(){this._updatePoints();this._renderLineChart()};e._getIteratorPredicate=function(a){return a?e._predicateThatSkipsEmptyPoints:null};e._predicateThatSkipsEmptyPoints=function(a,c){return null!==a[c].yval};e._drawStyledLine=function(a,c,b,d,k,n,q){var h=a.dygraph,m=h.getBooleanOption("stepPlot",a.setName);g.isArrayLike(d)||(d=null);var w=h.getBooleanOption("drawGapEdgePoints",a.setName),v=a.points,y=g.createIterator(v,0,v.length,e._getIteratorPredicate(h.getBooleanOption("connectSeparatedPoints",a.setName)));h=d&&2<=d.length;v=a.drawingContext;v.save();h&&v.setLineDash&&v.setLineDash(d);b=e._drawSeries(a,y,b,q,k,w,m,c);e._drawPointsOnLine(a,b,n,c,q);h&&v.setLineDash&&v.setLineDash([]);v.restore()};e._drawSeries=function(a,c,e,b,d,g,k,l){var h,m=b=null,w=[],n=!0;a=a.drawingContext;a.beginPath();a.strokeStyle=l;a.lineWidth=e;for(var v=c.array_,q=c.end_,D=c.predicate_,x=c.start_;x<q;x++){if(l=v[x],D){for(;x<q&&!D(v,x);)x++;if(x==q)break;l=v[x]}if(null===l.canvasy||l.canvasy!=l.canvasy)k&&null!==b&&(a.moveTo(b,m),a.lineTo(l.canvasx,m)),b=m=null;else{if(h=!1,g||null===b){c.nextIdx_=x;c.next();h=c.hasNext?c.peek.canvasy:null;var C=null===h||h!=h;h=null===b&&C;g&&(!n&&null===b||c.hasNext&&C)&&(h=!0)}null!==b?e&&(k&&(a.moveTo(b,m),a.lineTo(l.canvasx,m)),a.lineTo(l.canvasx,l.canvasy)):a.moveTo(l.canvasx,l.canvasy);(d||h)&&w.push([l.canvasx,l.canvasy,l.idx]);b=l.canvasx;m=l.canvasy}n=!1}return a.stroke(),w};e._drawPointsOnLine=function(a,c,e,b,d){for(var h=a.drawingContext,g=0;g<c.length;g++){var m=c[g];h.save();e.call(a.dygraph,a.dygraph,a.setName,h,m[0],m[1],b,d,m[2]);h.restore()}};e.prototype._updatePoints=function(){for(var a=this.layout.points,c=a.length;c--;)for(var e=a[c],b=e.length;b--;){var d=e[b];d.canvasx=this.area.w*d.x+this.area.x;d.canvasy=this.area.h*d.y+this.area.y}};e.prototype._renderLineChart=function(a,c){var e,h=c||this.elementContext,b=this.layout.points,d=this.layout.setNames;this.colors=this.dygraph_.colorsMap_;var k=this.dygraph_.getOption("plotter"),l=k;g.isArrayLike(l)||(l=[l]);var p={};for(e=0;e<d.length;e++){var u=d[e];var z=this.dygraph_.getOption("plotter",u);z!=k&&(p[u]=z)}for(e=0;e<l.length;e++){k=l[e];z=e==l.length-1;for(var y=0;y<b.length;y++)if(u=d[y],!a||u==a){var A=b[y],F=k;if(u in p){if(!z)continue;F=p[u]}var D=this.colors[u],x=this.dygraph_.getOption("strokeWidth",u);h.save();h.strokeStyle=D;h.lineWidth=x;F({points:A,setName:u,drawingContext:h,color:D,strokeWidth:x,dygraph:this.dygraph_,axis:this.dygraph_.axisPropertiesForSeries(u),plotArea:this.area,seriesIndex:y,seriesCount:b.length,singleSeriesName:a,allSeriesPoints:b});h.restore()}}};e._Plotters={linePlotter:function(a){e._linePlotter(a)},fillPlotter:function(a){e._fillPlotter(a)},errorPlotter:function(a){e._errorPlotter(a)}};e._linePlotter=function(a){var c=a.dygraph,h=a.setName,b=a.strokeWidth,d=c.getNumericOption("strokeBorderWidth",h),k=c.getOption("drawPointCallback",h)||g.Circles.DEFAULT,q=c.getOption("strokePattern",h),l=c.getBooleanOption("drawPoints",h),p=c.getNumericOption("pointSize",h);d&&b&&e._drawStyledLine(a,c.getOption("strokeBorderColor",h),b+2*d,q,l,k,p);e._drawStyledLine(a,a.color,b,q,l,k,p)};e._errorPlotter=function(a){var c=a.dygraph,h=a.setName;if(c.getBooleanOption("errorBars")||c.getBooleanOption("customBars")){c.getBooleanOption("fillGraph",h)&&console.warn("Can't use fillGraph option with error bars");var b,d=a.drawingContext,k=a.color,q=c.getNumericOption("fillAlpha",h),l=c.getBooleanOption("stepPlot",h),p=a.points;c=g.createIterator(p,0,p.length,e._getIteratorPredicate(c.getBooleanOption("connectSeparatedPoints",h)));p=h=NaN;var u=[-1,-1];k=g.toRGB_(k);d.fillStyle="rgba("+k.r+","+k.g+","+k.b+","+q+")";d.beginPath();for(q=function(a){return null===a||void 0===a||isNaN(a)};c.hasNext;)k=c.next(),!l&&q(k.y)||l&&!isNaN(p)&&q(p)?h=NaN:(b=[k.y_bottom,k.y_top],l&&(p=k.y),isNaN(b[0])&&(b[0]=k.y),isNaN(b[1])&&(b[1]=k.y),b[0]=a.plotArea.h*b[0]+a.plotArea.y,b[1]=a.plotArea.h*b[1]+a.plotArea.y,isNaN(h)||(l?(d.moveTo(h,u[0]),d.lineTo(k.canvasx,u[0]),d.lineTo(k.canvasx,u[1])):(d.moveTo(h,u[0]),d.lineTo(k.canvasx,b[0]),d.lineTo(k.canvasx,b[1])),d.lineTo(h,u[1]),d.closePath()),u=b,h=k.canvasx);d.fill()}};e._fastCanvasProxy=function(a){var c=[],e=null,h=null,b=0,d=function(e){if(!(1>=c.length)){for(var d=c.length-1;0<d;d--){var g=c[d];if(2==g[0]){var m=c[d-1];m[1]==g[1]&&m[2]==g[2]&&c.splice(d,1)}}for(d=0;d<c.length-1;)g=c[d],2==g[0]&&2==c[d+1][0]?c.splice(d,1):d++;if(2<c.length&&!e){e=0;2==c[0][0]&&e++;var k=m=null;for(d=e;d<c.length;d++)g=c[d],1==g[0]&&(null===m&&null===k?k=m=d:(g=g[2],g<c[m][2]?m=d:g>c[k][2]&&(k=d)));d=c[m];g=c[k];c.splice(e,c.length-e);m<k?(c.push(d),c.push(g)):m>k?(c.push(g),c.push(d)):c.push(d)}}d=0;for(e=c.length;d<e;d++)m=c[d],1==m[0]?a.lineTo(m[1],m[2]):2==m[0]&&a.moveTo(m[1],m[2]);c.length&&(h=c[c.length-1][1]);b+=c.length;c=[]},g=function(a,b,g){var m=Math.round(b);if(null===e||m!=e){var k=1<m-e;d(1<e-h||k);e=m}c.push([a,b,g])};return{moveTo:function(a,c){g(2,a,c)},lineTo:function(a,c){g(1,a,c)},stroke:function(){d(!0);a.stroke()},fill:function(){d(!0);a.fill()},beginPath:function(){d(!0);a.beginPath()},closePath:function(){d(!0);a.closePath()},_count:function(){return b}}};e._fillPlotter=function(a){if(!a.singleSeriesName&&0===a.seriesIndex){for(var c=a.dygraph,b=c.getLabels().slice(1),h=b.length;0<=h;h--)c.visibility()[h]||b.splice(h,1);if(function(){for(var a=0;a<b.length;a++)if(c.getBooleanOption("fillGraph",b[a]))return!0;return!1}()){h=a.plotArea;var d=a.allSeriesPoints,n=d.length,q=c.getBooleanOption("stackedGraph"),l=c.getColors(),p={},u=function(a,c,e,h){if(a.lineTo(c,e),q)for(c=h.length-1;0<=c;c--)e=h[c],a.lineTo(e[0],e[1])};for(--n;0<=n;n--){var z=a.drawingContext,y=b[n];if(c.getBooleanOption("fillGraph",y)){var A=c.getNumericOption("fillAlpha",y),F=c.getBooleanOption("stepPlot",y),D=l[n],x=c.axisPropertiesForSeries(y);x=1+x.minyval*x.yscale;0>x?x=0:1<x&&(x=1);x=h.h*x+h.y;var C=d[n];y=g.createIterator(C,0,C.length,e._getIteratorPredicate(c.getBooleanOption("connectSeparatedPoints",y)));var G=NaN,H=[-1,-1];D=g.toRGB_(D);z.fillStyle="rgba("+D.r+","+D.g+","+D.b+","+A+")";z.beginPath();A=!0;(C.length>2*c.width_||k["default"].FORCE_FAST_PROXY)&&(z=e._fastCanvasProxy(z));var E;for(C=[];y.hasNext;)if(E=y.next(),g.isOK(E.y)||F){if(q){if(!A&&K==E.xval)continue;A=!1;var K=E.xval;var J=p[E.canvasx];var r=[E.canvasy,void 0===J?x:t?J[0]:J];F?-1===H[0]?p[E.canvasx]=[E.canvasy,x]:p[E.canvasx]=[E.canvasy,H[0]]:p[E.canvasx]=E.canvasy}else r=isNaN(E.canvasy)&&F?[h.y+h.h,x]:[E.canvasy,x];isNaN(G)?(z.moveTo(E.canvasx,r[1]),z.lineTo(E.canvasx,r[0])):(F?(z.lineTo(E.canvasx,H[0]),z.lineTo(E.canvasx,r[0])):z.lineTo(E.canvasx,r[0]),q&&(C.push([G,H[1]]),t&&J?C.push([E.canvasx,J[1]]):C.push([E.canvasx,r[1]])));H=r;G=E.canvasx}else u(z,G,H[1],C),C=[],G=NaN,null===E.y_stacked||isNaN(E.y_stacked)||(p[E.canvasx]=h.h*E.y_stacked+h.y);var t=F;r&&E&&(u(z,E.canvasx,r[1],C),C=[]);z.fill()}}}}};b["default"]=e;d.exports=b["default"]},{"./dygraph":18,"./dygraph-utils":17}],10:[function(a,d,b){function g(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var e in a)Object.prototype.hasOwnProperty.call(a,e)&&(c[e]=a[e]);return c["default"]=a,c}Object.defineProperty(b,"__esModule",{value:!0});var k=a("./dygraph-tickers");k=g(k);var e=a("./dygraph-interaction-model");e=e&&e.__esModule?e:{"default":e};var h=a("./dygraph-canvas");h=h&&h.__esModule?h:{"default":h};a=a("./dygraph-utils");a=g(a);b["default"]={highlightCircleSize:3,highlightSeriesOpts:null,highlightSeriesBackgroundAlpha:.5,highlightSeriesBackgroundColor:"rgb(255, 255, 255)",labelsSeparateLines:!1,labelsShowZeroValues:!0,labelsKMB:!1,labelsKMG2:!1,showLabelsOnHighlight:!0,digitsAfterDecimal:2,maxNumberWidth:6,sigFigs:null,strokeWidth:1,strokeBorderWidth:0,strokeBorderColor:"white",axisTickSize:3,axisLabelFontSize:14,rightGap:5,showRoller:!1,xValueParser:void 0,delimiter:",",sigma:2,errorBars:!1,fractions:!1,wilsonInterval:!0,customBars:!1,fillGraph:!1,fillAlpha:.15,connectSeparatedPoints:!1,stackedGraph:!1,stackedGraphNaNFill:"all",hideOverlayOnMouseOut:!0,legend:"onmouseover",stepPlot:!1,xRangePad:0,yRangePad:null,drawAxesAtZero:!1,titleHeight:28,xLabelHeight:18,yLabelWidth:18,axisLineColor:"black",axisLineWidth:.3,gridLineWidth:.3,axisLabelWidth:50,gridLineColor:"rgb(128,128,128)",interactionModel:e["default"].defaultModel,animatedZooms:!1,showRangeSelector:!1,rangeSelectorHeight:40,rangeSelectorPlotStrokeColor:"#808FAB",rangeSelectorPlotFillGradientColor:"white",rangeSelectorPlotFillColor:"#A7B1C4",rangeSelectorBackgroundStrokeColor:"gray",rangeSelectorBackgroundLineWidth:1,rangeSelectorPlotLineWidth:1.5,rangeSelectorForegroundStrokeColor:"black",rangeSelectorForegroundLineWidth:1,rangeSelectorAlpha:.6,showInRangeSelector:null,plotter:[h["default"]._fillPlotter,h["default"]._errorPlotter,h["default"]._linePlotter],plugins:[],axes:{x:{pixelsPerLabel:70,axisLabelWidth:60,axisLabelFormatter:a.dateAxisLabelFormatter,valueFormatter:a.dateValueFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:k.dateTicker},y:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:a.numberValueFormatter,axisLabelFormatter:a.numberAxisLabelFormatter,drawGrid:!0,drawAxis:!0,independentTicks:!0,ticker:k.numericTicks},y2:{axisLabelWidth:50,pixelsPerLabel:30,valueFormatter:a.numberValueFormatter,axisLabelFormatter:a.numberAxisLabelFormatter,drawAxis:!0,drawGrid:!1,independentTicks:!1,ticker:k.numericTicks}}};d.exports=b["default"]},{"./dygraph-canvas":9,"./dygraph-interaction-model":12,"./dygraph-tickers":16,"./dygraph-utils":17}],11:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=(a=a("./dygraph"))&&a.__esModule?a:{"default":a};a=function(a){this.container=a};a.prototype.draw=function(a,e){this.container.innerHTML="";void 0!==this.date_graph&&this.date_graph.destroy();this.date_graph=new g["default"](this.container,a,e)};a.prototype.setSelection=function(a){var e=!1;a.length&&(e=a[0].row);this.date_graph.setSelection(e)};a.prototype.getSelection=function(){var a=[],e=this.date_graph.getSelection();if(0>e)return a;for(var h=this.date_graph.layout_.points,c=0;c<h.length;++c)a.push({row:e,column:c+1});return a};b["default"]=a;d.exports=b["default"]},{"./dygraph":18}],12:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var e={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(e[c]=a[c]);return e["default"]=a,e}(a("./dygraph-utils")),k={maybeTreatMouseOpAsClick:function(a,b,c){c.dragEndX=g.dragGetX_(a,c);c.dragEndY=g.dragGetY_(a,c);var e=Math.abs(c.dragEndX-c.dragStartX),h=Math.abs(c.dragEndY-c.dragStartY);2>e&&2>h&&void 0!==b.lastx_&&-1!=b.lastx_&&k.treatMouseOpAsClick(b,a,c);c.regionWidth=e;c.regionHeight=h},startPan:function(a,b,c){c.isPanning=!0;a=b.xAxisRange();if(b.getOptionForAxis("logscale","x")?(c.initialLeftmostDate=g.log10(a[0]),c.dateRange=g.log10(a[1])-g.log10(a[0])):(c.initialLeftmostDate=a[0],c.dateRange=a[1]-a[0]),c.xUnitsPerPixel=c.dateRange/(b.plotter_.area.w-1),b.getNumericOption("panEdgeFraction")){var e=b.width_*b.getNumericOption("panEdgeFraction"),h=b.xAxisExtremes();a=b.toDomXCoord(h[0])-e;e=b.toDomXCoord(h[1])+e;a=b.toDataXCoord(a);e=b.toDataXCoord(e);c.boundedDates=[a,e];e=[];h=b.height_*b.getNumericOption("panEdgeFraction");for(a=0;a<b.axes_.length;a++){var d=b.axes_[a];var k=d.extremeRange;d=b.toDomYCoord(k[0],a)+h;k=b.toDomYCoord(k[1],a)-h;d=b.toDataYCoord(d,a);k=b.toDataYCoord(k,a);e[a]=[d,k]}c.boundedValues=e}c.is2DPan=!1;c.axes=[];for(a=0;a<b.axes_.length;a++)d=b.axes_[a],e={},h=b.yAxisRange(a),b.attributes_.getForAxis("logscale",a)?(e.initialTopValue=g.log10(h[1]),e.dragValueRange=g.log10(h[1])-g.log10(h[0])):(e.initialTopValue=h[1],e.dragValueRange=h[1]-h[0]),e.unitsPerPixel=e.dragValueRange/(b.plotter_.area.h-1),c.axes.push(e),d.valueRange&&(c.is2DPan=!0)},movePan:function(a,b,c){c.dragEndX=g.dragGetX_(a,c);c.dragEndY=g.dragGetY_(a,c);a=c.initialLeftmostDate-(c.dragEndX-c.dragStartX)*c.xUnitsPerPixel;c.boundedDates&&(a=Math.max(a,c.boundedDates[0]));var e=a+c.dateRange;if(c.boundedDates&&e>c.boundedDates[1]&&(a-=e-c.boundedDates[1],e=a+c.dateRange),b.getOptionForAxis("logscale","x")?b.dateWindow_=[Math.pow(g.LOG_SCALE,a),Math.pow(g.LOG_SCALE,e)]:b.dateWindow_=[a,e],c.is2DPan)for(a=c.dragEndY-c.dragStartY,e=0;e<b.axes_.length;e++){var h=b.axes_[e],d=c.axes[e],k=c.boundedValues?c.boundedValues[e]:null,q=d.initialTopValue+a*d.unitsPerPixel;k&&(q=Math.min(q,k[1]));var l=q-d.dragValueRange;k&&l<k[0]&&(q-=l-k[0],l=q-d.dragValueRange);b.attributes_.getForAxis("logscale",e)?h.valueRange=[Math.pow(g.LOG_SCALE,l),Math.pow(g.LOG_SCALE,q)]:h.valueRange=[l,q]}b.drawGraph_(!1)}};k.endPan=k.maybeTreatMouseOpAsClick;k.startZoom=function(a,b,c){c.isZooming=!0;c.zoomMoved=!1};k.moveZoom=function(a,b,c){c.zoomMoved=!0;c.dragEndX=g.dragGetX_(a,c);c.dragEndY=g.dragGetY_(a,c);c.dragDirection=Math.abs(c.dragStartX-c.dragEndX)<Math.abs(c.dragStartY-c.dragEndY)/2?g.VERTICAL:g.HORIZONTAL;b.drawZoomRect_(c.dragDirection,c.dragStartX,c.dragEndX,c.dragStartY,c.dragEndY,c.prevDragDirection,c.prevEndX,c.prevEndY);c.prevEndX=c.dragEndX;c.prevEndY=c.dragEndY;c.prevDragDirection=c.dragDirection};k.treatMouseOpAsClick=function(a,b,c){for(var e=a.getFunctionOption("clickCallback"),d=a.getFunctionOption("pointClickCallback"),h=null,g=-1,k=Number.MAX_VALUE,l=0;l<a.selPoints_.length;l++){var p=a.selPoints_[l];p=Math.pow(p.canvasx-c.dragEndX,2)+Math.pow(p.canvasy-c.dragEndY,2);!isNaN(p)&&(-1==g||p<k)&&(k=p,g=l)}l=a.getNumericOption("highlightCircleSize")+2;if(k<=l*l&&(h=a.selPoints_[g]),h){g={cancelable:!0,point:h,canvasx:c.dragEndX,canvasy:c.dragEndY};if(a.cascadeEvents_("pointClick",g))return;d&&d.call(a,b,h)}g={cancelable:!0,xval:a.lastx_,pts:a.selPoints_,canvasx:c.dragEndX,canvasy:c.dragEndY};a.cascadeEvents_("click",g)||e&&e.call(a,b,a.lastx_,a.selPoints_)};k.endZoom=function(a,b,c){b.clearZoomRect_();c.isZooming=!1;k.maybeTreatMouseOpAsClick(a,b,c);a=b.getArea();if(10<=c.regionWidth&&c.dragDirection==g.HORIZONTAL){var e=Math.min(c.dragStartX,c.dragEndX),d=Math.max(c.dragStartX,c.dragEndX);e=Math.max(e,a.x);d=Math.min(d,a.x+a.w);e<d&&b.doZoomX_(e,d);c.cancelNextDblclick=!0}else 10<=c.regionHeight&&c.dragDirection==g.VERTICAL&&(e=Math.min(c.dragStartY,c.dragEndY),d=Math.max(c.dragStartY,c.dragEndY),e=Math.max(e,a.y),d=Math.min(d,a.y+a.h),e<d&&b.doZoomY_(e,d),c.cancelNextDblclick=!0);c.dragStartX=null;c.dragStartY=null};k.startTouch=function(a,b,c){a.preventDefault();1<a.touches.length&&(c.startTimeForDoubleTapMs=null);for(var e=[],d=0;d<a.touches.length;d++){var h=a.touches[d];e.push({pageX:h.pageX,pageY:h.pageY,dataX:b.toDataXCoord(h.pageX),dataY:b.toDataYCoord(h.pageY)})}(c.initialTouches=e,1==e.length)?(c.initialPinchCenter=e[0],c.touchDirections={x:!0,y:!0}):2<=e.length&&(c.initialPinchCenter={pageX:.5*(e[0].pageX+e[1].pageX),pageY:.5*(e[0].pageY+e[1].pageY),dataX:.5*(e[0].dataX+e[1].dataX),dataY:.5*(e[0].dataY+e[1].dataY)},a=180/Math.PI*Math.atan2(c.initialPinchCenter.pageY-e[0].pageY,e[0].pageX-c.initialPinchCenter.pageX),a=Math.abs(a),90<a&&(a=90-a),c.touchDirections={x:67.5>a,y:22.5<a});c.initialRange={x:b.xAxisRange(),y:b.yAxisRange()}};k.moveTouch=function(a,b,c){c.startTimeForDoubleTapMs=null;var e,d=[];for(e=0;e<a.touches.length;e++){var h=a.touches[e];d.push({pageX:h.pageX,pageY:h.pageY})}var g=c.initialTouches;a=c.initialPinchCenter;var k=1==d.length?d[0]:{pageX:.5*(d[0].pageX+d[1].pageX),pageY:.5*(d[0].pageY+d[1].pageY)};h=k.pageY-a.pageY;var l=c.initialRange.y[0]-c.initialRange.y[1];e=(k.pageX-a.pageX)/b.plotter_.area.w*(c.initialRange.x[1]-c.initialRange.x[0]);h=h/b.plotter_.area.h*l;var p;if(1==d.length)var u=p=1;else 2<=d.length&&(p=(d[1].pageX-k.pageX)/(g[1].pageX-a.pageX),u=(d[1].pageY-k.pageY)/(g[1].pageY-a.pageY));p=Math.min(8,Math.max(.125,p));u=Math.min(8,Math.max(.125,u));k=!1;if(c.touchDirections.x&&(b.dateWindow_=[a.dataX-e+(c.initialRange.x[0]-a.dataX)/p,a.dataX-e+(c.initialRange.x[1]-a.dataX)/p],k=!0),c.touchDirections.y)for(e=0;1>e;e++)p=b.axes_[e],b.attributes_.getForAxis("logscale",e)||(p.valueRange=[a.dataY-h+(c.initialRange.y[0]-a.dataY)/u,a.dataY-h+(c.initialRange.y[1]-a.dataY)/u],k=!0);if(b.drawGraph_(!1),k&&1<d.length&&b.getFunctionOption("zoomCallback"))c=b.xAxisRange(),b.getFunctionOption("zoomCallback").call(b,c[0],c[1],b.yAxisRanges())};k.endTouch=function(a,b,c){if(0!==a.touches.length)k.startTouch(a,b,c);else if(1==a.changedTouches.length){var e=(new Date).getTime();a=a.changedTouches[0];c.startTimeForDoubleTapMs&&500>e-c.startTimeForDoubleTapMs&&c.doubleTapX&&50>Math.abs(c.doubleTapX-a.screenX)&&c.doubleTapY&&50>Math.abs(c.doubleTapY-a.screenY)?b.resetZoom():(c.startTimeForDoubleTapMs=e,c.doubleTapX=a.screenX,c.doubleTapY=a.screenY)}};k.defaultModel={mousedown:function(a,b,c){if(!a.button||2!=a.button){c.initializeMouseDown(a,b,c);a.altKey||a.shiftKey?k.startPan(a,b,c):k.startZoom(a,b,c);var e=function(a){if(c.isZooming){var e=g.findPos(b.canvas_),d=e.x,h=e.x+b.canvas_.offsetWidth,m=e.y;e=e.y+b.canvas_.offsetHeight;var w=g.pageX(a),u=g.pageY(a);100>Math.max(w<d?d-w:w>h?w-h:0,u<m?m-u:u>e?u-e:0)?k.moveZoom(a,b,c):null!==c.dragEndX&&(c.dragEndX=null,c.dragEndY=null,b.clearZoomRect_())}else c.isPanning&&k.movePan(a,b,c)};b.addAndTrackEvent(document,"mousemove",e);b.addAndTrackEvent(document,"mouseup",function n(a){c.isZooming?null!==c.dragEndX?k.endZoom(a,b,c):k.maybeTreatMouseOpAsClick(a,b,c):c.isPanning&&k.endPan(a,b,c);g.removeEvent(document,"mousemove",e);g.removeEvent(document,"mouseup",n);c.destroy()})}},willDestroyContextMyself:!0,touchstart:function(a,b,c){k.startTouch(a,b,c)},touchmove:function(a,b,c){k.moveTouch(a,b,c)},touchend:function(a,b,c){k.endTouch(a,b,c)},dblclick:function(a,b,c){if(c.cancelNextDblclick)return void(c.cancelNextDblclick=!1);b.cascadeEvents_("dblclick",{canvasx:c.dragEndX,canvasy:c.dragEndY,cancelable:!0})||a.altKey||a.shiftKey||b.resetZoom()}};k.nonInteractiveModel_={mousedown:function(a,b,c){c.initializeMouseDown(a,b,c)},mouseup:k.maybeTreatMouseOpAsClick};k.dragIsPanInteractionModel={mousedown:function(a,b,c){c.initializeMouseDown(a,b,c);k.startPan(a,b,c)},mousemove:function(a,b,c){c.isPanning&&k.movePan(a,b,c)},mouseup:function(a,b,c){c.isPanning&&k.endPan(a,b,c)}};b["default"]=k;d.exports=b["default"]},{"./dygraph-utils":17}],13:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(a("./dygraph-utils")),k=function(a){this.dygraph_=a;this.points=[];this.setNames=[];this.annotations=[];this.yTicks_=this.xTicks_=this.yAxes_=null};k.prototype.addDataset=function(a,b){this.points.push(b);this.setNames.push(a)};k.prototype.getPlotArea=function(){return this.area_};k.prototype.computePlotArea=function(){var a={x:0,y:0};a.w=this.dygraph_.width_-a.x-this.dygraph_.getOption("rightGap");a.h=this.dygraph_.height_;this.dygraph_.cascadeEvents_("layout",{chart_div:this.dygraph_.graphDiv,reserveSpaceLeft:function(b){var c={x:a.x,y:a.y,w:b,h:a.h};return a.x+=b,a.w-=b,c},reserveSpaceRight:function(b){var c={x:a.x+a.w-b,y:a.y,w:b,h:a.h};return a.w-=b,c},reserveSpaceTop:function(b){var c={x:a.x,y:a.y,w:a.w,h:b};return a.y+=b,a.h-=b,c},reserveSpaceBottom:function(b){var c={x:a.x,y:a.y+a.h-b,w:a.w,h:b};return a.h-=b,c},chartRect:function(){return{x:a.x,y:a.y,w:a.w,h:a.h}}});this.area_=a};k.prototype.setAnnotations=function(a){this.annotations=[];for(var b=this.dygraph_.getOption("xValueParser")||function(a){return a},c=0;c<a.length;c++){var e={};if(!a[c].xval&&void 0===a[c].x)return void console.error("Annotations must have an 'x' property");if(a[c].icon&&(!a[c].hasOwnProperty("width")||!a[c].hasOwnProperty("height")))return void console.error("Must set width and height when setting annotation.icon property");g.update(e,a[c]);e.xval||(e.xval=b(e.x));this.annotations.push(e)}};k.prototype.setXTicks=function(a){this.xTicks_=a};k.prototype.setYAxes=function(a){this.yAxes_=a};k.prototype.evaluate=function(){this._xAxis={};this._evaluateLimits();this._evaluateLineCharts();this._evaluateLineTicks();this._evaluateAnnotations()};k.prototype._evaluateLimits=function(){var a=this.dygraph_.xAxisRange();this._xAxis.minval=a[0];this._xAxis.maxval=a[1];a=a[1]-a[0];this._xAxis.scale=0!==a?1/a:1;this.dygraph_.getOptionForAxis("logscale","x")&&(this._xAxis.xlogrange=g.log10(this._xAxis.maxval)-g.log10(this._xAxis.minval),this._xAxis.xlogscale=0!==this._xAxis.xlogrange?1/this._xAxis.xlogrange:1);for(a=0;a<this.yAxes_.length;a++){var b=this.yAxes_[a];b.minyval=b.computedValueRange[0];b.maxyval=b.computedValueRange[1];b.yrange=b.maxyval-b.minyval;b.yscale=0!==b.yrange?1/b.yrange:1;this.dygraph_.getOption("logscale")&&(b.ylogrange=g.log10(b.maxyval)-g.log10(b.minyval),b.ylogscale=0!==b.ylogrange?1/b.ylogrange:1,isFinite(b.ylogrange)&&!isNaN(b.ylogrange)||console.error("axis "+a+" of graph at "+b.g+" can't be displayed in log scale for range ["+b.minyval+" - "+b.maxyval+"]"))}};k.calcXNormal_=function(a,b,c){return c?(g.log10(a)-g.log10(b.minval))*b.xlogscale:(a-b.minval)*b.scale};k.calcYNormal_=function(a,b,c){return c?(a=1-(g.log10(b)-g.log10(a.minyval))*a.ylogscale,isFinite(a)?a:NaN):1-(b-a.minyval)*a.yscale};k.prototype._evaluateLineCharts=function(){for(var a=this.dygraph_.getOption("stackedGraph"),b=this.dygraph_.getOptionForAxis("logscale","x"),c=0;c<this.points.length;c++){var d=this.points[c],g=this.setNames[c],v=this.dygraph_.getOption("connectSeparatedPoints",g),n=this.dygraph_.axisPropertiesForSeries(g);g=this.dygraph_.attributes_.getForSeries("logscale",g);for(var q=0;q<d.length;q++){var l=d[q];l.x=k.calcXNormal_(l.xval,this._xAxis,b);var p=l.yval;a&&(l.y_stacked=k.calcYNormal_(n,l.yval_stacked,g),null===p||isNaN(p)||(p=l.yval_stacked));null===p&&(p=NaN,v||(l.yval=NaN));l.y=k.calcYNormal_(n,p,g)}this.dygraph_.dataHandler_.onLineEvaluated(d,n,g)}};k.prototype._evaluateLineTicks=function(){var a,b,c;this.xticks=[];for(a=0;a<this.xTicks_.length;a++){var d=this.xTicks_[a];var g=d.label;d=(c=!("label_v"in d))?d.v:d.label_v;0<=(b=this.dygraph_.toPercentXCoord(d))&&1>b&&this.xticks.push({pos:b,label:g,has_tick:c})}this.yticks=[];for(a=0;a<this.yAxes_.length;a++)for(var k=this.yAxes_[a],n=0;n<k.ticks.length;n++)d=k.ticks[n],g=d.label,d=(c=!("label_v"in d))?d.v:d.label_v,0<(b=this.dygraph_.toPercentYCoord(d,a))&&1>=b&&this.yticks.push({axis:a,pos:b,label:g,has_tick:c})};k.prototype._evaluateAnnotations=function(){var a,b={};for(a=0;a<this.annotations.length;a++){var c=this.annotations[a];b[c.xval+","+c.series]=c}if(this.annotated_points=[],this.annotations&&this.annotations.length)for(c=0;c<this.points.length;c++){var d=this.points[c];for(a=0;a<d.length;a++){var g=d[a],k=g.xval+","+g.name;k in b&&(g.annotation=b[k],this.annotated_points.push(g))}}};k.prototype.removeAllDatasets=function(){delete this.points;delete this.setNames;delete this.setPointsLengths;delete this.setPointsOffsets;this.points=[];this.setNames=[];this.setPointsLengths=[];this.setPointsOffsets=[]};b["default"]=k;d.exports=b["default"]},{"./dygraph-utils":17}],14:[function(a,d,b){a("_process");Object.defineProperty(b,"__esModule",{value:!0});b["default"]=null;d.exports=b["default"]},{_process:1}],15:[function(a,d,b){(function(g){Object.defineProperty(b,"__esModule",{value:!0});var k=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);return c["default"]=a,c}(a("./dygraph-utils")),e=(g=a("./dygraph-default-attrs"))&&g.__esModule?g:{"default":g};a("./dygraph-options-reference");var h=function(a){this.dygraph_=a;this.yAxes_=[];this.xAxis_={};this.series_={};this.global_=this.dygraph_.attrs_;this.user_=this.dygraph_.user_attrs_||{};this.labels_=[];this.highlightSeries_=this.get("highlightSeriesOpts")||{};this.reparseSeries()};h.AXIS_STRING_MAPPINGS_={y:0,Y:0,y1:0,Y1:0,y2:1,Y2:1};h.axisToIndex_=function(a){if("string"==typeof a){if(h.AXIS_STRING_MAPPINGS_.hasOwnProperty(a))return h.AXIS_STRING_MAPPINGS_[a];throw"Unknown axis : "+a;}if("number"==typeof a){if(0===a||1===a)return a;throw"Dygraphs only supports two y-axes, indexed from 0-1.";}if(a)throw"Unknown axis : "+a;return 0};h.prototype.reparseSeries=function(){var a=this.get("labels");if(a){this.labels_=a.slice(1);this.yAxes_=[{series:[],options:{}}];this.xAxis_={options:{}};this.series_={};a=this.user_.series||{};for(var b=0;b<this.labels_.length;b++){var d=this.labels_[b],e=a[d]||{},g=h.axisToIndex_(e.axis);this.series_[d]={idx:b,yAxis:g,options:e};this.yAxes_[g]?this.yAxes_[g].series.push(d):this.yAxes_[g]={series:[d],options:{}}}a=this.user_.axes||{};k.update(this.yAxes_[0].options,a.y||{});1<this.yAxes_.length&&k.update(this.yAxes_[1].options,a.y2||{});k.update(this.xAxis_.options,a.x||{})}};h.prototype.get=function(a){var c=this.getGlobalUser_(a);return null!==c?c:this.getGlobalDefault_(a)};h.prototype.getGlobalUser_=function(a){return this.user_.hasOwnProperty(a)?this.user_[a]:null};h.prototype.getGlobalDefault_=function(a){return this.global_.hasOwnProperty(a)?this.global_[a]:e["default"].hasOwnProperty(a)?e["default"][a]:null};h.prototype.getForAxis=function(a,b){if("number"==typeof b){var c=b;var d=0===c?"y":"y2"}else{if("y1"==b&&(b="y"),"y"==b)c=0;else if("y2"==b)c=1;else{if("x"!=b)throw"Unknown axis "+b;c=-1}d=b}if(c=-1==c?this.xAxis_:this.yAxes_[c])if(c=c.options,c.hasOwnProperty(a))return c[a];if("x"!==b||"logscale"!==a)if(c=this.getGlobalUser_(a),null!==c)return c;d=e["default"].axes[d];return d.hasOwnProperty(a)?d[a]:this.getGlobalDefault_(a)};h.prototype.getForSeries=function(a,b){if(b===this.dygraph_.getHighlightSeries()&&this.highlightSeries_.hasOwnProperty(a))return this.highlightSeries_[a];if(!this.series_.hasOwnProperty(b))throw"Unknown series: "+b;var c=this.series_[b],d=c.options;return d.hasOwnProperty(a)?d[a]:this.getForAxis(a,c.yAxis)};h.prototype.numAxes=function(){return this.yAxes_.length};h.prototype.axisForSeries=function(a){return this.series_[a].yAxis};h.prototype.axisOptions=function(a){return this.yAxes_[a].options};h.prototype.seriesForAxis=function(a){return this.yAxes_[a].series};h.prototype.seriesNames=function(){return this.labels_};b["default"]=h;d.exports=b["default"]}).call(this,a("_process"))},{"./dygraph-default-attrs":10,"./dygraph-options-reference":14,"./dygraph-utils":17,_process:1}],16:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);return c["default"]=a,c}(a("./dygraph-utils"));b.numericLinearTicks=function(a,c,b,d,e,g){return k(a,c,b,function(a){return"logscale"!==a&&d(a)},e,g)};var k=function(a,b,d,e,h,k){var l,m=e("pixelsPerLabel"),n=[];if(k)for(a=0;a<k.length;a++)n.push({v:k[a]});else{if(e("logscale")){var q=Math.floor(d/m);k=g.binarySearch(a,c,1);var p=g.binarySearch(b,c,-1);-1==k&&(k=0);-1==p&&(p=c.length-1);var v=null;if(p-k>=q/4){for(;p>=k;p--){var w=c[p],C=Math.log(w/a)/Math.log(b/a)*d,G={v:w};null===v?v={tickValue:w,pixel_coord:C}:Math.abs(C-v.pixel_coord)>=m?v={tickValue:w,pixel_coord:C}:G.label="";n.push(G)}n.reverse()}}if(0===n.length){var H;e("labelsKMG2")?(H=[1,2,4,8,16,32,64,128,256],l=16):(H=[1,2,5,10,20,50,100],l=10);var E,K,J;k=Math.pow(l,Math.floor(Math.log(Math.abs(b-a)/Math.ceil(d/m))/Math.log(l)));for(l=0;l<H.length&&(E=k*H[l],K=Math.floor(a/E)*E,J=Math.ceil(b/E)*E,q=Math.abs(J-K)/E,!(d/q>m));l++);K>J&&(E*=-1);for(a=0;a<=q;a++)b=K+a*E,n.push({v:b})}}q=e("axisLabelFormatter");for(a=0;a<n.length;a++)void 0===n[a].label&&(n[a].label=q.call(h,n[a].v,0,e,h));return n};b.numericTicks=k;b.dateTicker=function(a,b,c,d,g,k){a:{k=d("pixelsPerLabel");for(var l=0;l<e.NUM_GRANULARITIES;l++)if(c/Math.round((b-a)/h[l].spacing)>=k){c=l;break a}c=-1}return 0<=c?m(a,b,c,d,g):[]};var e={MILLISECONDLY:0,TWO_MILLISECONDLY:1,FIVE_MILLISECONDLY:2,TEN_MILLISECONDLY:3,FIFTY_MILLISECONDLY:4,HUNDRED_MILLISECONDLY:5,FIVE_HUNDRED_MILLISECONDLY:6,SECONDLY:7,TWO_SECONDLY:8,FIVE_SECONDLY:9,TEN_SECONDLY:10,THIRTY_SECONDLY:11,MINUTELY:12,TWO_MINUTELY:13,FIVE_MINUTELY:14,TEN_MINUTELY:15,THIRTY_MINUTELY:16,HOURLY:17,TWO_HOURLY:18,SIX_HOURLY:19,DAILY:20,TWO_DAILY:21,WEEKLY:22,MONTHLY:23,QUARTERLY:24,BIANNUAL:25,ANNUAL:26,DECADAL:27,CENTENNIAL:28,NUM_GRANULARITIES:29};b.Granularity=e;var h=[];h[e.MILLISECONDLY]={datefield:6,step:1,spacing:1};h[e.TWO_MILLISECONDLY]={datefield:6,step:2,spacing:2};h[e.FIVE_MILLISECONDLY]={datefield:6,step:5,spacing:5};h[e.TEN_MILLISECONDLY]={datefield:6,step:10,spacing:10};h[e.FIFTY_MILLISECONDLY]={datefield:6,step:50,spacing:50};h[e.HUNDRED_MILLISECONDLY]={datefield:6,step:100,spacing:100};h[e.FIVE_HUNDRED_MILLISECONDLY]={datefield:6,step:500,spacing:500};h[e.SECONDLY]={datefield:5,step:1,spacing:1E3};h[e.TWO_SECONDLY]={datefield:5,step:2,spacing:2E3};h[e.FIVE_SECONDLY]={datefield:5,step:5,spacing:5E3};h[e.TEN_SECONDLY]={datefield:5,step:10,spacing:1E4};h[e.THIRTY_SECONDLY]={datefield:5,step:30,spacing:3E4};h[e.MINUTELY]={datefield:4,step:1,spacing:6E4};h[e.TWO_MINUTELY]={datefield:4,step:2,spacing:12E4};h[e.FIVE_MINUTELY]={datefield:4,step:5,spacing:3E5};h[e.TEN_MINUTELY]={datefield:4,step:10,spacing:6E5};h[e.THIRTY_MINUTELY]={datefield:4,step:30,spacing:18E5};h[e.HOURLY]={datefield:3,step:1,spacing:36E5};h[e.TWO_HOURLY]={datefield:3,step:2,spacing:72E5};h[e.SIX_HOURLY]={datefield:3,step:6,spacing:216E5};h[e.DAILY]={datefield:2,step:1,spacing:864E5};h[e.TWO_DAILY]={datefield:2,step:2,spacing:1728E5};h[e.WEEKLY]={datefield:2,step:7,spacing:6048E5};h[e.MONTHLY]={datefield:1,step:1,spacing:2629817280};h[e.QUARTERLY]={datefield:1,step:3,spacing:216E5*365.2524};h[e.BIANNUAL]={datefield:1,step:6,spacing:432E5*365.2524};h[e.ANNUAL]={datefield:0,step:1,spacing:864E5*365.2524};h[e.DECADAL]={datefield:0,step:10,spacing:315578073600};h[e.CENTENNIAL]={datefield:0,step:100,spacing:3155780736E3};var c=function(){for(var a=[],c=-39;39>=c;c++)for(var b=Math.pow(10,c),d=1;9>=d;d++)a.push(b*d);return a}(),m=function(a,c,b,d,k){var l=d("axisLabelFormatter"),m=d("labelsUTC")?g.DateAccessorsUTC:g.DateAccessorsLocal,q=h[b].datefield,n=h[b].step,v=h[b].spacing,w=new Date(a),D=[];D[0]=m.getFullYear(w);D[1]=m.getMonth(w);D[2]=m.getDate(w);D[3]=m.getHours(w);D[4]=m.getMinutes(w);D[5]=m.getSeconds(w);D[6]=m.getMilliseconds(w);var x=D[q]%n;b==e.WEEKLY&&(x=m.getDay(w));D[q]-=x;for(w=q+1;7>w;w++)D[w]=2===w?1:0;w=[];x=m.makeDate.apply(null,D);var C=x.getTime();if(b<=e.HOURLY)for(C<a&&(C+=v,x=new Date(C));C<=c;)w.push({v:C,label:l.call(k,x,b,d,k)}),C+=v,x=new Date(C);else for(C<a&&(D[q]+=n,x=m.makeDate.apply(null,D),C=x.getTime());C<=c;)(b>=e.DAILY||0==m.getHours(x)%n)&&w.push({v:C,label:l.call(k,x,b,d,k)}),D[q]+=n,x=m.makeDate.apply(null,D),C=x.getTime();return w};b.getDateAxis=m},{"./dygraph-utils":17}],17:[function(a,d,b){function g(a){return!a.pageX||0>a.pageX?0:a.pageX}function k(a){return!a.pageY||0>a.pageY?0:a.pageY}function e(a,b){var c=Math.min(Math.max(1,b||2),21);return.001>Math.abs(a)&&0!==a?a.toExponential(c-1):a.toPrecision(c)}function h(a){return 10>a?"0"+a:""+a}function c(a,b,c,d){a=h(a)+":"+h(b);c&&(a+=":"+h(c),d)&&(c=""+d,a+="."+("000"+c).substring(c.length));return a}function m(a,b){var d=b?C:x,B=new Date(a),e=d.getFullYear(B),t=d.getMonth(B),g=d.getDate(B),I=d.getHours(B),k=d.getMinutes(B),l=d.getSeconds(B);d=d.getMilliseconds(B);e=""+e;t=h(t+1);g=h(g);g=e+"/"+t+"/"+g;return 3600*I+60*k+l+.001*d&&(g+=" "+c(I,k,l,d)),g}function w(a,c){var b=Math.pow(10,c);return Math.round(a*b)/b}function v(a){return(new Date(a)).getTime()}function n(a,b){if(void 0!==b&&null!==b)for(var c in b)if(b.hasOwnProperty(c))if(null===b[c])a[c]=null;else if(q(b[c]))a[c]=b[c].slice();else{var d=b[c];("object"==typeof Node?d instanceof Node:"object"==typeof d&&"number"==typeof d.nodeType&&"string"==typeof d.nodeName)||"object"!=typeof b[c]?a[c]=b[c]:("object"==typeof a[c]&&null!==a[c]||(a[c]={}),n(a[c],b[c]))}return a}function q(a){var c=typeof a;return("object"==c||"function"==c&&"function"==typeof a.item)&&null!==a&&"number"==typeof a.length&&3!==a.nodeType}function l(a){for(var c=[],b=0;b<a.length;b++)q(a[b])?c.push(l(a[b])):c.push(a[b]);return c}function p(a,c,b,d){c=c||0;b=b||a.length;this.hasNext=!0;this.peek=null;this.start_=c;this.array_=a;this.predicate_=d;this.end_=Math.min(a.length,c+b);this.nextIdx_=c-1;this.next()}function u(a,c){return 0>c?1/Math.pow(a,-c):Math.pow(a,c)}function z(a){a=E.exec(a);if(!a)return null;var c=parseInt(a[1],10),b=parseInt(a[2],10),d=parseInt(a[3],10);return a[4]?{r:c,g:b,b:d,a:parseFloat(a[4])}:{r:c,g:b,b:d}}function y(a,c){var b=c("sigFigs");if(null!==b)return e(a,b);b=c("digitsAfterDecimal");var d=c("maxNumberWidth");var B=c("labelsKMB"),t=c("labelsKMG2");if(d=0!==a&&(Math.abs(a)>=Math.pow(10,d)||Math.abs(a)<Math.pow(10,-b))?a.toExponential(b):""+w(a,b),B||t){var g,h=[],I=[];B&&(g=1E3,h=K);t&&(B&&console.warn("Setting both labelsKMB and labelsKMG2. Pick one!"),g=1024,h=J,I=r);B=Math.abs(a);for(var k=u(g,h.length),l=h.length-1;0<=l;l--,k/=g)if(B>=k){d=w(a/k,b)+h[l];break}t&&(g=String(a.toExponential()).split("e-"),2===g.length&&3<=g[1]&&24>=g[1]&&(d=0<g[1]%3?w(g[0]/u(10,g[1]%3),b):Number(g[0]).toFixed(2),d+=I[Math.floor(g[1]/3)-1]))}return d}Object.defineProperty(b,"__esModule",{value:!0});b.removeEvent=function(a,c,b){a.removeEventListener(c,b,!1)};b.cancelEvent=function(a){return a=a||window.event,a.stopPropagation&&a.stopPropagation(),a.preventDefault&&a.preventDefault(),a.cancelBubble=!0,a.cancel=!0,a.returnValue=!1,!1};b.hsvToRGB=function(a,c,b){var d,e;if(0===c)var B=e=d=b;else{var g=Math.floor(6*a),t=6*a-g;a=b*(1-c);var h=b*(1-c*t);c=b*(1-c*(1-t));switch(g){case 1:d=h;e=b;B=a;break;case 2:d=a;e=b;B=c;break;case 3:d=a;e=h;B=b;break;case 4:d=c;e=a;B=b;break;case 5:d=b;e=a;B=h;break;case 6:case 0:d=b,e=c,B=a}}return d=Math.floor(255*d+.5),e=Math.floor(255*e+.5),B=Math.floor(255*B+.5),"rgb("+d+","+e+","+B+")"};b.findPos=function(a){a=a.getBoundingClientRect();var c=window,b=document.documentElement;return{x:a.left+(c.pageXOffset||b.scrollLeft),y:a.top+(c.pageYOffset||b.scrollTop)}};b.pageX=g;b.pageY=k;b.dragGetX_=function(a,c){return g(a)-c.px};b.dragGetY_=function(a,c){return k(a)-c.py};b.isOK=function(a){return!!a&&!isNaN(a)};b.isValidPoint=function(a,c){return!!a&&null!==a.yval&&null!==a.x&&void 0!==a.x&&null!==a.y&&void 0!==a.y&&!(isNaN(a.x)||!c&&isNaN(a.y))};b.floatFormat=e;b.zeropad=h;b.hmsString_=c;b.dateString_=m;b.round_=w;b.binarySearch=function(a,c,b,d,e){for(var B=!0;B;){var g=c;if(B=!1,null!==d&&void 0!==d&&null!==e&&void 0!==e||(d=0,e=g.length-1),d>e)return-1;null!==b&&void 0!==b||(b=0);var t,h=function(a){return 0<=a&&a<g.length},I=parseInt((d+e)/2,10),k=g[I];if(k==a)return I;if(k>a){if(0<b&&(t=I-1,h(t)&&g[t]<a))return I;c=g;e=I-1}else{if(!(k<a))return-1;if(0>b&&(t=I+1,h(t)&&g[t]>a))return I;c=g;d=I+1}B=!0;h=I=k=t=void 0}};b.dateParser=function(a){var c,b;if((-1==a.search("-")||-1!=a.search("T")||-1!=a.search("Z"))&&(b=v(a))&&!isNaN(b))return b;if(-1!=a.search("-")){for(c=a.replace("-","/","g");-1!=c.search("-");)c=c.replace("-","/");b=v(c)}else 8==a.length?(c=a.substr(0,4)+"/"+a.substr(4,2)+"/"+a.substr(6,2),b=v(c)):b=v(a);return b&&!isNaN(b)||console.error("Couldn't parse "+a+" as a date"),b};b.dateStrToMillis=v;b.update=function(a,c){if(void 0!==c&&null!==c)for(var b in c)c.hasOwnProperty(b)&&(a[b]=c[b]);return a};b.updateDeep=n;b.isArrayLike=q;b.isDateLike=function(a){return"object"==typeof a&&null!==a&&"function"==typeof a.getTime};b.clone=l;b.createCanvas=function(){return document.createElement("canvas")};b.getContextPixelRatio=function(a){try{var c=window.devicePixelRatio,b=a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1;return void 0!==c?c/b:1}catch(L){return 1}};b.Iterator=p;b.createIterator=function(a,c,b,d){return new p(a,c,b,d)};b.repeatAndCleanup=function(a,c,b,d){var e,B=0,g=(new Date).getTime();if(a(B),1==c)return void d();var t=c-1;!function N(){B>=c||G.call(window,function(){var c=(new Date).getTime()-g;e=B;B=Math.floor(c/b);c=B-e;B+c>t||B>=t?(a(t),d()):(0!==c&&a(B),N())})}()};b.isPixelChangingOptionList=function(a,c){var b={};if(a)for(var d=1;d<a.length;d++)b[a[d]]=!0;d=function(a){for(var c in a)if(a.hasOwnProperty(c)&&!H[c])return!0;return!1};for(var e in c)if(c.hasOwnProperty(e))if("highlightSeriesOpts"==e||b[e]&&!c.series){if(d(c[e]))return!0}else if("series"==e||"axes"==e){var B=c[e],g;for(g in B)if(B.hasOwnProperty(g)&&d(B[g]))return!0}else if(!H[e])return!0;return!1};b.detectLineDelimiter=function(a){for(var c=0;c<a.length;c++){var b=a.charAt(c);if("\r"===b)return c+1<a.length&&"\n"===a.charAt(c+1)?"\r\n":b;if("\n"===b)return c+1<a.length&&"\r"===a.charAt(c+1)?"\n\r":b}return null};b.isNodeContainedBy=function(a,c){if(null===c||null===a)return!1;for(var b=a;b&&b!==c;)b=b.parentNode;return b===c};b.pow=u;b.toRGB_=function(a){var c=z(a);if(c)return c;c=document.createElement("div");c.style.backgroundColor=a;c.style.visibility="hidden";document.body.appendChild(c);a=window.getComputedStyle(c,null).backgroundColor;return document.body.removeChild(c),z(a)};b.isCanvasSupported=function(a){try{(a||document.createElement("canvas")).getContext("2d")}catch(I){return!1}return!0};b.parseFloat_=function(a,c,b){var d=parseFloat(a);if(!isNaN(d))return d;if(/^ *$/.test(a))return null;if(/^ *nan *$/i.test(a))return NaN;a="Unable to parse '"+a+"' as a number";return void 0!==b&&void 0!==c&&(a+=" on line "+(1+(c||0))+" ('"+b+"') of CSV."),console.error(a),null};b.numberValueFormatter=y;b.numberAxisLabelFormatter=function(a,c,b){return y.call(this,a,b)};b.dateAxisLabelFormatter=function(a,b,d){var e=d("labelsUTC")?C:x,g=e.getFullYear(a),B=e.getMonth(a),k=e.getDate(a),I=e.getHours(a),l=e.getMinutes(a);d=e.getSeconds(a);a=e.getMilliseconds(a);return b>=A.Granularity.DECADAL?""+g:b>=A.Granularity.MONTHLY?t[B]+"&#160;"+g:0===3600*I+60*l+d+.001*a||b>=A.Granularity.DAILY?h(k)+"&#160;"+t[B]:b<A.Granularity.SECONDLY?(b=""+a,h(d)+"."+("000"+b).substring(b.length)):b>A.Granularity.MINUTELY?c(I,l,d,0):c(I,l,d,a)};b.dateValueFormatter=function(a,c){return m(a,c("labelsUTC"))};var A=function(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);return c["default"]=a,c}(a("./dygraph-tickers"));b.LOG_SCALE=10;var F=Math.log(10);b.LN_TEN=F;var D=function(a){return Math.log(a)/F};b.log10=D;b.logRangeFraction=function(a,c,b){a=D(a);c=D(c);return Math.pow(10,a+b*(c-a))};b.DOTTED_LINE=[2,2];b.DASHED_LINE=[7,3];b.DOT_DASH_LINE=[7,2,2,2];b.HORIZONTAL=1;b.VERTICAL=2;b.getContext=function(a){return a.getContext("2d")};b.addEvent=function(a,c,b){a.addEventListener(c,b,!1)};var x={getFullYear:function(a){return a.getFullYear()},getMonth:function(a){return a.getMonth()},getDate:function(a){return a.getDate()},getHours:function(a){return a.getHours()},getMinutes:function(a){return a.getMinutes()},getSeconds:function(a){return a.getSeconds()},getMilliseconds:function(a){return a.getMilliseconds()},getDay:function(a){return a.getDay()},makeDate:function(a,c,b,d,e,g,t){return new Date(a,c,b,d,e,g,t)}};b.DateAccessorsLocal=x;var C={getFullYear:function(a){return a.getUTCFullYear()},getMonth:function(a){return a.getUTCMonth()},getDate:function(a){return a.getUTCDate()},getHours:function(a){return a.getUTCHours()},getMinutes:function(a){return a.getUTCMinutes()},getSeconds:function(a){return a.getUTCSeconds()},getMilliseconds:function(a){return a.getUTCMilliseconds()},getDay:function(a){return a.getUTCDay()},makeDate:function(a,c,b,d,e,g,t){return new Date(Date.UTC(a,c,b,d,e,g,t))}};b.DateAccessorsUTC=C;p.prototype.next=function(){if(!this.hasNext)return null;for(var a=this.peek,c=this.nextIdx_+1,b=!1;c<this.end_;){if(!this.predicate_||this.predicate_(this.array_,c)){this.peek=this.array_[c];b=!0;break}c++}return this.nextIdx_=c,b||(this.hasNext=!1,this.peek=null),a};var G=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)}}();b.requestAnimFrame=G;var H={annotationClickHandler:!0,annotationDblClickHandler:!0,annotationMouseOutHandler:!0,annotationMouseOverHandler:!0,axisLineColor:!0,axisLineWidth:!0,clickCallback:!0,drawCallback:!0,drawHighlightPointCallback:!0,drawPoints:!0,drawPointCallback:!0,drawGrid:!0,fillAlpha:!0,gridLineColor:!0,gridLineWidth:!0,hideOverlayOnMouseOut:!0,highlightCallback:!0,highlightCircleSize:!0,interactionModel:!0,labelsDiv:!0,labelsKMB:!0,labelsKMG2:!0,labelsSeparateLines:!0,labelsShowZeroValues:!0,legend:!0,panEdgeFraction:!0,pixelsPerYLabel:!0,pointClickCallback:!0,pointSize:!0,rangeSelectorPlotFillColor:!0,rangeSelectorPlotFillGradientColor:!0,rangeSelectorPlotStrokeColor:!0,rangeSelectorBackgroundStrokeColor:!0,rangeSelectorBackgroundLineWidth:!0,rangeSelectorPlotLineWidth:!0,rangeSelectorForegroundStrokeColor:!0,rangeSelectorForegroundLineWidth:!0,rangeSelectorAlpha:!0,showLabelsOnHighlight:!0,showRoller:!0,strokeWidth:!0,underlayCallback:!0,unhighlightCallback:!0,zoomCallback:!0};b.Circles={DEFAULT:function(a,c,b,d,e,g,t){b.beginPath();b.fillStyle=g;b.arc(d,e,t,0,2*Math.PI,!1);b.fill()}};var E=/^rgba?\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})(?:,\s*([01](?:\.\d+)?))?\)$/,K=["K","M","B","T","Q"],J="kMGTPEZY".split(""),r="munpfazy".split(""),t="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ")},{"./dygraph-tickers":16}],18:[function(a,d,b){(function(g){function k(a){if(a&&a.__esModule)return a;var c={};if(null!=a)for(var b in a)Object.prototype.hasOwnProperty.call(a,b)&&(c[b]=a[b]);return c["default"]=a,c}function e(a){return a&&a.__esModule?a:{"default":a}}function h(a){a=a[0];var c=a[0];if("number"!=typeof c&&!l.isDateLike(c))throw Error("Expected number or date but got "+typeof c+": "+c+".");for(c=1;c<a.length;c++){var b=a[c];if(null!==b&&void 0!==b&&"number"!=typeof b&&!l.isArrayLike(b))throw Error("Expected number or array but got "+typeof b+": "+b+".");}}Object.defineProperty(b,"__esModule",{value:!0});var c=function(){return function(a,c){if(Array.isArray(a))return a;$jscomp.initSymbol();$jscomp.initSymbolIterator();if(Symbol.iterator in Object(a)){var b=[],d=!0,e=!1,g=void 0;try{$jscomp.initSymbol();$jscomp.initSymbolIterator();for(var t,h=a[Symbol.iterator]();!(d=(t=h.next()).done)&&(b.push(t.value),!c||b.length!==c);d=!0);}catch(M){e=!0,g=M}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw g;}}return b}throw new TypeError("Invalid attempt to destructure non-iterable instance");}}();g=a("./dygraph-layout");var m=e(g);g=a("./dygraph-canvas");var w=e(g);g=a("./dygraph-options");var v=e(g);g=a("./dygraph-interaction-model");g=e(g);var n=a("./dygraph-tickers"),q=k(n);n=a("./dygraph-utils");var l=k(n);n=a("./dygraph-default-attrs");var p=e(n);n=a("./dygraph-options-reference");n=(e(n),a("./iframe-tarp"));var u=e(n);n=a("./datahandler/default");var z=e(n);n=a("./datahandler/bars-error");var y=e(n);n=a("./datahandler/bars-custom");var A=e(n);n=a("./datahandler/default-fractions");var F=e(n);n=a("./datahandler/bars-fractions");var D=e(n);n=a("./datahandler/bars");n=e(n);var x=a("./plugins/annotations");x=e(x);var C=a("./plugins/axes");C=e(C);var G=a("./plugins/chart-labels");G=e(G);var H=a("./plugins/grid");H=e(H);var E=a("./plugins/legend");E=e(E);var K=a("./plugins/range-selector");K=e(K);var J=a("./dygraph-gviz");J=e(J);var r=function(a,c,b){this.__init__(a,c,b)};r.NAME="Dygraph";r.VERSION="2.1.0";r.DEFAULT_ROLL_PERIOD=1;r.DEFAULT_WIDTH=480;r.DEFAULT_HEIGHT=320;r.ANIMATION_STEPS=12;r.ANIMATION_DURATION=200;r.Plotters=w["default"]._Plotters;r.addedAnnotationCSS=!1;r.prototype.__init__=function(a,c,b){if(this.is_initial_draw_=!0,this.readyFns_=[],null!==b&&void 0!==b||(b={}),b=r.copyUserAttrs_(b),"string"==typeof a&&(a=document.getElementById(a)),!a)throw Error("Constructing dygraph with a non-existent div!");this.maindiv_=a;this.file_=c;this.rollPeriod_=b.rollPeriod||r.DEFAULT_ROLL_PERIOD;this.previousVerticalX_=-1;this.fractions_=b.fractions||!1;this.dateWindow_=b.dateWindow||null;this.annotations_=[];a.innerHTML="";""===a.style.width&&b.width&&(a.style.width=b.width+"px");""===a.style.height&&b.height&&(a.style.height=b.height+"px");""===a.style.height&&0===a.clientHeight&&(a.style.height=r.DEFAULT_HEIGHT+"px",""===a.style.width&&(a.style.width=r.DEFAULT_WIDTH+"px"));this.width_=a.clientWidth||b.width||0;this.height_=a.clientHeight||b.height||0;b.stackedGraph&&(b.fillGraph=!0);this.user_attrs_={};l.update(this.user_attrs_,b);this.attrs_={};l.updateDeep(this.attrs_,p["default"]);this.boundaryIds_=[];this.setIndexByName_={};this.datasetIndex_=[];this.registeredEvents_=[];this.eventListeners_={};this.attributes_=new v["default"](this);this.createInterface_();this.plugins_=[];c=r.PLUGINS.concat(this.getOption("plugins"));for(a=0;a<c.length;a++){b=c[a];var d=void 0!==b.activate?b:new b;b={plugin:d,events:{},options:{},pluginOptions:{}};d=d.activate(this);for(var e in d)d.hasOwnProperty(e)&&(b.events[e]=d[e]);this.plugins_.push(b)}for(a=0;a<this.plugins_.length;a++)for(e in c=this.plugins_[a],c.events)c.events.hasOwnProperty(e)&&(b=[c.plugin,c.events[e]],e in this.eventListeners_?this.eventListeners_[e].push(b):this.eventListeners_[e]=[b]);this.createDragInterface_();this.start_()};r.prototype.cascadeEvents_=function(a,c){if(!(a in this.eventListeners_))return!1;var b={dygraph:this,cancelable:!1,defaultPrevented:!1,preventDefault:function(){if(!b.cancelable)throw"Cannot call preventDefault on non-cancelable event.";b.defaultPrevented=!0},propagationStopped:!1,stopPropagation:function(){b.propagationStopped=!0}};l.update(b,c);var d=this.eventListeners_[a];if(d)for(var e=d.length-1;0<=e&&(d[e][1].call(d[e][0],b),!b.propagationStopped);e--);return b.defaultPrevented};r.prototype.getPluginInstance_=function(a){for(var c=0;c<this.plugins_.length;c++){var b=this.plugins_[c];if(b.plugin instanceof a)return b.plugin}return null};r.prototype.isZoomed=function(a){var c=!!this.dateWindow_;if("x"===a)return c;var b=0<=this.axes_.map(function(a){return!!a.valueRange}).indexOf(!0);if(null===a||void 0===a)return c||b;if("y"===a)return b;throw Error("axis parameter is ["+a+"] must be null, 'x' or 'y'.");};r.prototype.toString=function(){var a=this.maindiv_;return"[Dygraph "+(a&&a.id?a.id:a)+"]"};r.prototype.attr_=function(a,c){return c?this.attributes_.getForSeries(a,c):this.attributes_.get(a)};r.prototype.getOption=function(a,c){return this.attr_(a,c)};r.prototype.getNumericOption=function(a,c){return this.getOption(a,c)};r.prototype.getStringOption=function(a,c){return this.getOption(a,c)};r.prototype.getBooleanOption=function(a,c){return this.getOption(a,c)};r.prototype.getFunctionOption=function(a,c){return this.getOption(a,c)};r.prototype.getOptionForAxis=function(a,c){return this.attributes_.getForAxis(a,c)};r.prototype.optionsViewForAxis_=function(a){var c=this;return function(b){var d=c.user_attrs_.axes;return d&&d[a]&&d[a].hasOwnProperty(b)?d[a][b]:("x"!==a||"logscale"!==b)&&(void 0!==c.user_attrs_[b]?c.user_attrs_[b]:(d=c.attrs_.axes,d&&d[a]&&d[a].hasOwnProperty(b)?d[a][b]:"y"==a&&c.axes_[0].hasOwnProperty(b)?c.axes_[0][b]:"y2"==a&&c.axes_[1].hasOwnProperty(b)?c.axes_[1][b]:c.attr_(b)))}};r.prototype.rollPeriod=function(){return this.rollPeriod_};r.prototype.xAxisRange=function(){return this.dateWindow_?this.dateWindow_:this.xAxisExtremes()};r.prototype.xAxisExtremes=function(){var a=this.getNumericOption("xRangePad")/this.plotter_.area.w;if(0===this.numRows())return[0-a,1+a];var c=this.rawData_[0][0],b=this.rawData_[this.rawData_.length-1][0];if(a){var d=b-c;c-=d*a;b+=d*a}return[c,b]};r.prototype.yAxisExtremes=function(){var a=this.gatherDatasets_(this.rolledSeries_,null).extremes,c=this.axes_;this.computeYAxisRanges_(a);a=this.axes_;return this.axes_=c,a.map(function(a){return a.extremeRange})};r.prototype.yAxisRange=function(a){if(void 0===a&&(a=0),0>a||a>=this.axes_.length)return null;a=this.axes_[a];return[a.computedValueRange[0],a.computedValueRange[1]]};r.prototype.yAxisRanges=function(){for(var a=[],c=0;c<this.axes_.length;c++)a.push(this.yAxisRange(c));return a};r.prototype.toDomCoords=function(a,c,b){return[this.toDomXCoord(a),this.toDomYCoord(c,b)]};r.prototype.toDomXCoord=function(a){if(null===a)return null;var c=this.plotter_.area,b=this.xAxisRange();return c.x+(a-b[0])/(b[1]-b[0])*c.w};r.prototype.toDomYCoord=function(a,c){var b=this.toPercentYCoord(a,c);if(null===b)return null;var d=this.plotter_.area;return d.y+b*d.h};r.prototype.toDataCoords=function(a,c,b){return[this.toDataXCoord(a),this.toDataYCoord(c,b)]};r.prototype.toDataXCoord=function(a){if(null===a)return null;var c=this.plotter_.area,b=this.xAxisRange();return this.attributes_.getForAxis("logscale","x")?l.logRangeFraction(b[0],b[1],(a-c.x)/c.w):b[0]+(a-c.x)/c.w*(b[1]-b[0])};r.prototype.toDataYCoord=function(a,c){if(null===a)return null;var b=this.plotter_.area,d=this.yAxisRange(c);return(void 0===c&&(c=0),this.attributes_.getForAxis("logscale",c))?l.logRangeFraction(d[1],d[0],(a-b.y)/b.h):d[0]+(b.y+b.h-a)/b.h*(d[1]-d[0])};r.prototype.toPercentYCoord=function(a,c){if(null===a)return null;void 0===c&&(c=0);var b=this.yAxisRange(c);if(this.attributes_.getForAxis("logscale",c)){var d=l.log10(b[0]);b=l.log10(b[1]);d=(b-l.log10(a))/(b-d)}else d=(b[1]-a)/(b[1]-b[0]);return d};r.prototype.toPercentXCoord=function(a){if(null===a)return null;var c=this.xAxisRange();if(!0===this.attributes_.getForAxis("logscale","x")){var b=l.log10(c[0]);c=l.log10(c[1]);a=(l.log10(a)-b)/(c-b)}else a=(a-c[0])/(c[1]-c[0]);return a};r.prototype.numColumns=function(){return this.rawData_?this.rawData_[0]?this.rawData_[0].length:this.attr_("labels").length:0};r.prototype.numRows=function(){return this.rawData_?this.rawData_.length:0};r.prototype.getValue=function(a,c){return 0>a||a>this.rawData_.length?null:0>c||c>this.rawData_[a].length?null:this.rawData_[a][c]};r.prototype.createInterface_=function(){var a=this.maindiv_;this.graphDiv=document.createElement("div");this.graphDiv.style.textAlign="left";this.graphDiv.style.position="relative";a.appendChild(this.graphDiv);this.canvas_=l.createCanvas();this.canvas_.style.position="absolute";this.hidden_=this.createPlotKitCanvas_(this.canvas_);this.canvas_ctx_=l.getContext(this.canvas_);this.hidden_ctx_=l.getContext(this.hidden_);this.resizeElements_();this.graphDiv.appendChild(this.hidden_);this.graphDiv.appendChild(this.canvas_);this.mouseEventElement_=this.createMouseEventElement_();this.layout_=new m["default"](this);var c=this;this.mouseMoveHandler_=function(a){c.mouseMove_(a)};this.mouseOutHandler_=function(a){var b=a.relatedTarget||a.toElement;l.isNodeContainedBy(a.target||a.fromElement,c.graphDiv)&&!l.isNodeContainedBy(b,c.graphDiv)&&c.mouseOut_(a)};this.addAndTrackEvent(window,"mouseout",this.mouseOutHandler_);this.addAndTrackEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_);this.resizeHandler_||(this.resizeHandler_=function(a){c.resize()},this.addAndTrackEvent(window,"resize",this.resizeHandler_))};r.prototype.resizeElements_=function(){this.graphDiv.style.width=this.width_+"px";this.graphDiv.style.height=this.height_+"px";var a=this.getNumericOption("pixelRatio"),c=a||l.getContextPixelRatio(this.canvas_ctx_);this.canvas_.width=this.width_*c;this.canvas_.height=this.height_*c;this.canvas_.style.width=this.width_+"px";this.canvas_.style.height=this.height_+"px";1!==c&&this.canvas_ctx_.scale(c,c);a=a||l.getContextPixelRatio(this.hidden_ctx_);this.hidden_.width=this.width_*a;this.hidden_.height=this.height_*a;this.hidden_.style.width=this.width_+"px";this.hidden_.style.height=this.height_+"px";1!==a&&this.hidden_ctx_.scale(a,a)};r.prototype.destroy=function(){this.canvas_ctx_.restore();this.hidden_ctx_.restore();for(var a=this.plugins_.length-1;0<=a;a--){var c=this.plugins_.pop();c.plugin.destroy&&c.plugin.destroy()}this.removeTrackedEvents_();l.removeEvent(window,"mouseout",this.mouseOutHandler_);l.removeEvent(this.mouseEventElement_,"mousemove",this.mouseMoveHandler_);l.removeEvent(window,"resize",this.resizeHandler_);this.resizeHandler_=null;(function L(a){for(;a.hasChildNodes();)L(a.firstChild),a.removeChild(a.firstChild)})(this.maindiv_);a=function(a){for(var c in a)"object"==typeof a[c]&&(a[c]=null)};a(this.layout_);a(this.plotter_);a(this)};r.prototype.createPlotKitCanvas_=function(a){var c=l.createCanvas();return c.style.position="absolute",c.style.top=a.style.top,c.style.left=a.style.left,c.width=this.width_,c.height=this.height_,c.style.width=this.width_+"px",c.style.height=this.height_+"px",c};r.prototype.createMouseEventElement_=function(){return this.canvas_};r.prototype.setColors_=function(){var a=this.getLabels(),c=a.length-1;this.colors_=[];this.colorsMap_={};for(var b=this.getNumericOption("colorSaturation")||1,d=this.getNumericOption("colorValue")||.5,e=Math.ceil(c/2),g=this.getOption("colors"),h=this.visibility(),k=0;k<c;k++)if(h[k]){var m=a[k+1],q=this.attributes_.getForSeries("color",m);q||(q=g?g[k%g.length]:l.hsvToRGB(1*(k%2?e+(k+1)/2:Math.ceil((k+1)/2))/(1+c),b,d));this.colors_.push(q);this.colorsMap_[m]=q}};r.prototype.getColors=function(){return this.colors_};r.prototype.getPropertiesForSeries=function(a){for(var c=-1,b=this.getLabels(),d=1;d<b.length;d++)if(b[d]==a){c=d;break}return-1==c?null:{name:a,column:c,visible:this.visibility()[c-1],color:this.colorsMap_[a],axis:1+this.attributes_.axisForSeries(a)}};r.prototype.createRollInterface_=function(){var a=this,c=this.roller_;c||(this.roller_=c=document.createElement("input"),c.type="text",c.style.display="none",c.className="dygraph-roller",this.graphDiv.appendChild(c));var b=this.getBooleanOption("showRoller")?"block":"none",d=this.getArea();b={top:d.y+d.h-25+"px",left:d.x+1+"px",display:b};c.size="2";c.value=this.rollPeriod_;l.update(c.style,b);c.onchange=function(){return a.adjustRoll(c.value)}};r.prototype.createDragInterface_=function(){var a={isZooming:!1,isPanning:!1,is2DPan:!1,dragStartX:null,dragStartY:null,dragEndX:null,dragEndY:null,dragDirection:null,prevEndX:null,prevEndY:null,prevDragDirection:null,cancelNextDblclick:!1,initialLeftmostDate:null,xUnitsPerPixel:null,dateRange:null,px:0,py:0,boundedDates:null,boundedValues:null,tarp:new u["default"],initializeMouseDown:function(a,c,b){a.preventDefault?a.preventDefault():(a.returnValue=!1,a.cancelBubble=!0);c=l.findPos(c.canvas_);b.px=c.x;b.py=c.y;b.dragStartX=l.dragGetX_(a,b);b.dragStartY=l.dragGetY_(a,b);b.cancelNextDblclick=!1;b.tarp.cover()},destroy:function(){if((this.isZooming||this.isPanning)&&(this.isZooming=!1,this.dragStartX=null,this.dragStartY=null),this.isPanning){this.isPanning=!1;this.dateRange=this.draggingDate=null;for(var a=0;a<b.axes_.length;a++)delete b.axes_[a].draggingValue,delete b.axes_[a].dragValueRange}this.tarp.uncover()}},c=this.getOption("interactionModel"),b=this,d;for(d in c)c.hasOwnProperty(d)&&this.addAndTrackEvent(this.mouseEventElement_,d,function(c){return function(d){c(d,b,a)}}(c[d]));c.willDestroyContextMyself||this.addAndTrackEvent(document,"mouseup",function(c){a.destroy()})};r.prototype.drawZoomRect_=function(a,c,b,d,e,g,h,k){var t=this.canvas_ctx_;g==l.HORIZONTAL?t.clearRect(Math.min(c,h),this.layout_.getPlotArea().y,Math.abs(c-h),this.layout_.getPlotArea().h):g==l.VERTICAL&&t.clearRect(this.layout_.getPlotArea().x,Math.min(d,k),this.layout_.getPlotArea().w,Math.abs(d-k));a==l.HORIZONTAL?b&&c&&(t.fillStyle="rgba(128,128,128,0.33)",t.fillRect(Math.min(c,b),this.layout_.getPlotArea().y,Math.abs(b-c),this.layout_.getPlotArea().h)):a==l.VERTICAL&&e&&d&&(t.fillStyle="rgba(128,128,128,0.33)",t.fillRect(this.layout_.getPlotArea().x,Math.min(d,e),this.layout_.getPlotArea().w,Math.abs(e-d)))};r.prototype.clearZoomRect_=function(){this.currentZoomRectArgs_=null;this.canvas_ctx_.clearRect(0,0,this.width_,this.height_)};r.prototype.doZoomX_=function(a,c){this.currentZoomRectArgs_=null;var b=this.toDataXCoord(a),d=this.toDataXCoord(c);this.doZoomXDates_(b,d)};r.prototype.doZoomXDates_=function(a,c){var b=this,d=this.xAxisRange(),e=[a,c],g=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(d,e,null,null,function(){g&&g.call(b,a,c,b.yAxisRanges())})};r.prototype.doZoomY_=function(a,b){var d=this;this.currentZoomRectArgs_=null;for(var e=this.yAxisRanges(),g=[],h=0;h<this.axes_.length;h++){var k=this.toDataYCoord(a,h),t=this.toDataYCoord(b,h);g.push([t,k])}var l=this.getFunctionOption("zoomCallback");this.doAnimatedZoom(null,null,e,g,function(){if(l){var a=d.xAxisRange();a=c(a,2);l.call(d,a[0],a[1],d.yAxisRanges())}})};r.zoomAnimationFunction=function(a,c){return(1-Math.pow(1.5,-a))/(1-Math.pow(1.5,-c))};r.prototype.resetZoom=function(){var a=this,b=this.isZoomed("x"),d=this.isZoomed("y"),e=b||d;if(this.clearSelection(),e){e=this.xAxisExtremes();e=c(e,2);var g=e[0],h=e[1];e=this.getBooleanOption("animatedZooms");var k=this.getFunctionOption("zoomCallback");if(!e)return this.dateWindow_=null,this.axes_.forEach(function(a){a.valueRange&&delete a.valueRange}),this.drawGraph_(),void(k&&k.call(this,g,h,this.yAxisRanges()));var l=e=null,m=null,q=null;b&&(e=this.xAxisRange(),l=[g,h]);d&&(m=this.yAxisRanges(),q=this.yAxisExtremes());this.doAnimatedZoom(e,l,m,q,function(){a.dateWindow_=null;a.axes_.forEach(function(a){a.valueRange&&delete a.valueRange});k&&k.call(a,g,h,a.yAxisRanges())})}};r.prototype.doAnimatedZoom=function(a,c,b,d,e){var g,h=this,k=this.getBooleanOption("animatedZooms")?r.ANIMATION_STEPS:1,t=[],m=[];if(null!==a&&null!==c)for(g=1;g<=k;g++){var B=r.zoomAnimationFunction(g,k);t[g-1]=[a[0]*(1-B)+B*c[0],a[1]*(1-B)+B*c[1]]}if(null!==b&&null!==d)for(g=1;g<=k;g++){B=r.zoomAnimationFunction(g,k);a=[];for(c=0;c<this.axes_.length;c++)a.push([b[c][0]*(1-B)+B*d[c][0],b[c][1]*(1-B)+B*d[c][1]]);m[g-1]=a}l.repeatAndCleanup(function(a){if(m.length)for(var c=0;c<h.axes_.length;c++){var b=m[a][c];h.axes_[c].valueRange=[b[0],b[1]]}t.length&&(h.dateWindow_=t[a]);h.drawGraph_()},k,r.ANIMATION_DURATION/k,e)};r.prototype.getArea=function(){return this.plotter_.area};r.prototype.eventToDomCoords=function(a){if(a.offsetX&&a.offsetY)return[a.offsetX,a.offsetY];var c=l.findPos(this.mouseEventElement_);return[l.pageX(a)-c.x,l.pageY(a)-c.y]};r.prototype.findClosestRow=function(a){for(var c=1/0,b=-1,d=this.layout_.points,e=0;e<d.length;e++)for(var g=d[e],h=g.length,k=0;k<h;k++){var t=g[k];if(l.isValidPoint(t,!0)){var m=Math.abs(t.canvasx-a);m<c&&(c=m,b=t.idx)}}return b};r.prototype.findClosestPoint=function(a,c){for(var b,d,e,g,h,k,t,m=1/0,B=this.layout_.points.length-1;0<=B;--B)for(var q=this.layout_.points[B],n=0;n<q.length;++n)g=q[n],l.isValidPoint(g)&&(d=g.canvasx-a,e=g.canvasy-c,(b=d*d+e*e)<m&&(m=b,h=g,k=B,t=g.idx));return{row:t,seriesName:this.layout_.setNames[k],point:h}};r.prototype.findStackedPoint=function(a,c){for(var b,d,e=this.findClosestRow(a),g=0;g<this.layout_.points.length;++g){var h=this.getLeftBoundary_(g),k=e-h,t=this.layout_.points[g];if(!(k>=t.length)&&(h=t[k],l.isValidPoint(h))){var m=h.canvasy;a>h.canvasx&&k+1<t.length?(k=t[k+1],l.isValidPoint(k)&&(t=k.canvasx-h.canvasx,0<t&&(t=(a-h.canvasx)/t,m+=t*(k.canvasy-h.canvasy)))):a<h.canvasx&&0<k&&(k=t[k-1],l.isValidPoint(k)&&(t=h.canvasx-k.canvasx,0<t&&(t=(h.canvasx-a)/t,m+=t*(k.canvasy-h.canvasy))));(0===g||m<c)&&(b=h,d=g)}}return{row:e,seriesName:this.layout_.setNames[d],point:b}};r.prototype.mouseMove_=function(a){var c=this.layout_.points;if(void 0!==c&&null!==c){var b=this.eventToDomCoords(a);c=b[0];b=b[1];this.getOption("highlightSeriesOpts")&&!this.isSeriesLocked()?(c=this.getBooleanOption("stackedGraph")?this.findStackedPoint(c,b):this.findClosestPoint(c,b),c=this.setSelection(c.row,c.seriesName)):(c=this.findClosestRow(c),c=this.setSelection(c));(b=this.getFunctionOption("highlightCallback"))&&c&&b.call(this,a,this.lastx_,this.selPoints_,this.lastRow_,this.highlightSet_)}};r.prototype.getLeftBoundary_=function(a){if(this.boundaryIds_[a])return this.boundaryIds_[a][0];for(a=0;a<this.boundaryIds_.length;a++)if(void 0!==this.boundaryIds_[a])return this.boundaryIds_[a][0];return 0};r.prototype.animateSelection_=function(a){void 0===this.fadeLevel&&(this.fadeLevel=0);void 0===this.animateId&&(this.animateId=0);var c=this.fadeLevel;c=0>a?c:10-c;if(0>=c)return void(this.fadeLevel&&this.updateSelection_(1));var b=++this.animateId,d=this;l.repeatAndCleanup(function(c){d.animateId==b&&(d.fadeLevel+=a,0===d.fadeLevel?d.clearSelection():d.updateSelection_(d.fadeLevel/10))},c,30,function(){0!==d.fadeLevel&&0>a&&(d.fadeLevel=0,d.clearSelection())})};r.prototype.updateSelection_=function(a){this.cascadeEvents_("select",{selectedRow:-1===this.lastRow_?void 0:this.lastRow_,selectedX:-1===this.lastx_?void 0:this.lastx_,selectedPoints:this.selPoints_});var c=this.canvas_ctx_;if(this.getOption("highlightSeriesOpts")){c.clearRect(0,0,this.width_,this.height_);var b=1-this.getNumericOption("highlightSeriesBackgroundAlpha"),d=l.toRGB_(this.getOption("highlightSeriesBackgroundColor"));if(b){if(void 0===a)return void this.animateSelection_(1);c.fillStyle="rgba("+d.r+","+d.g+","+d.b+","+b*a+")";c.fillRect(0,0,this.width_,this.height_)}this.plotter_._renderLineChart(this.highlightSet_,c)}else if(0<=this.previousVerticalX_){b=0;d=this.attr_("labels");for(a=1;a<d.length;a++){var e=this.getNumericOption("highlightCircleSize",d[a]);e>b&&(b=e)}c.clearRect(this.previousVerticalX_-b-1,0,2*b+2,this.height_)}if(0<this.selPoints_.length){b=this.selPoints_[0].canvasx;c.save();for(a=0;a<this.selPoints_.length;a++)if(d=this.selPoints_[a],!isNaN(d.canvasy)){e=this.getNumericOption("highlightCircleSize",d.name);var g=this.getFunctionOption("drawHighlightPointCallback",d.name),h=this.plotter_.colors[d.name];g||(g=l.Circles.DEFAULT);c.lineWidth=this.getNumericOption("strokeWidth",d.name);c.strokeStyle=h;c.fillStyle=h;g.call(this,this,d.name,c,b,d.canvasy,h,e,d.idx)}c.restore();this.previousVerticalX_=b}};r.prototype.setSelection=function(a,c,b){this.selPoints_=[];var d=!1;if(!1!==a&&0<=a){a!=this.lastRow_&&(d=!0);this.lastRow_=a;for(var e=0;e<this.layout_.points.length;++e){var g=this.layout_.points[e],h=a-this.getLeftBoundary_(e);if(0<=h&&h<g.length&&g[h].idx==a)h=g[h],null!==h.yval&&this.selPoints_.push(h);else for(var k=0;k<g.length;++k)if(h=g[k],h.idx==a){null!==h.yval&&this.selPoints_.push(h);break}}}else 0<=this.lastRow_&&(d=!0),this.lastRow_=-1;return this.selPoints_.length?this.lastx_=this.selPoints_[0].xval:this.lastx_=-1,void 0!==c&&(this.highlightSet_!==c&&(d=!0),this.highlightSet_=c),void 0!==b&&(this.lockedSet_=b),d&&this.updateSelection_(void 0),d};r.prototype.mouseOut_=function(a){this.getFunctionOption("unhighlightCallback")&&this.getFunctionOption("unhighlightCallback").call(this,a);this.getBooleanOption("hideOverlayOnMouseOut")&&!this.lockedSet_&&this.clearSelection()};r.prototype.clearSelection=function(){if(this.cascadeEvents_("deselect",{}),this.lockedSet_=!1,this.fadeLevel)return void this.animateSelection_(-1);this.canvas_ctx_.clearRect(0,0,this.width_,this.height_);this.fadeLevel=0;this.selPoints_=[];this.lastRow_=this.lastx_=-1;this.highlightSet_=null};r.prototype.getSelection=function(){if(!this.selPoints_||1>this.selPoints_.length)return-1;for(var a=0;a<this.layout_.points.length;a++)for(var c=this.layout_.points[a],b=0;b<c.length;b++)if(c[b].x==this.selPoints_[0].x)return c[b].idx;return-1};r.prototype.getHighlightSeries=function(){return this.highlightSet_};r.prototype.isSeriesLocked=function(){return this.lockedSet_};r.prototype.loadedEvent_=function(a){this.rawData_=this.parseCSV_(a);this.cascadeDataDidUpdateEvent_();this.predraw_()};r.prototype.addXTicks_=function(){var a=this.dateWindow_?[this.dateWindow_[0],this.dateWindow_[1]]:this.xAxisExtremes();var c=this.optionsViewForAxis_("x");a=c("ticker")(a[0],a[1],this.plotter_.area.w,c,this);this.layout_.setXTicks(a)};r.prototype.getHandlerClass_=function(){return this.attr_("dataHandler")?this.attr_("dataHandler"):this.fractions_?this.getBooleanOption("errorBars")?D["default"]:F["default"]:this.getBooleanOption("customBars")?A["default"]:this.getBooleanOption("errorBars")?y["default"]:z["default"]};r.prototype.predraw_=function(){var a=new Date;this.dataHandler_=new (this.getHandlerClass_());this.layout_.computePlotArea();this.computeYAxes_();this.is_initial_draw_||(this.canvas_ctx_.restore(),this.hidden_ctx_.restore());this.canvas_ctx_.save();this.hidden_ctx_.save();this.plotter_=new w["default"](this,this.hidden_,this.hidden_ctx_,this.layout_);this.createRollInterface_();this.cascadeEvents_("predraw");this.rolledSeries_=[null];for(var c=1;c<this.numColumns();c++){var b=this.dataHandler_.extractSeries(this.rawData_,c,this.attributes_);1<this.rollPeriod_&&(b=this.dataHandler_.rollingAverage(b,this.rollPeriod_,this.attributes_));this.rolledSeries_.push(b)}this.drawGraph_();this.drawingTimeMs_=new Date-a};r.PointType=void 0;r.stackPoints_=function(a,c,b,d){for(var e=null,g=null,h=null,k=-1,l=0;l<a.length;++l){var m=a[l],t=m.xval;void 0===c[t]&&(c[t]=0);var q=m.yval;if(isNaN(q)||null===q)if("none"==d)q=0;else{if(!(k>=l))for(q=l;q<a.length;++q)if(h=null,!isNaN(a[q].yval)&&null!==a[q].yval){k=q;h=a[q];break}!0;q=g&&h&&"none"!=d?g.yval+(t-g.xval)/(h.xval-g.xval)*(h.yval-g.yval):g&&"all"==d?g.yval:h&&"all"==d?h.yval:0}else g=m;var n=c[t];e!=t&&(n+=q,c[t]=n);e=t;m.yval_stacked=n;n>b[1]&&(b[1]=n);n<b[0]&&(b[0]=n)}};r.prototype.gatherDatasets_=function(a,c){var b,d,e,g,h=[],k=[],l=[],m={};for(b=a.length-1;1<=b;b--)if(this.visibility()[b-1]){if(c){var t=a[b];var q=c[0],n=c[1];var B=e=null;for(d=0;d<t.length;d++)t[d][0]>=q&&null===e&&(e=d),t[d][0]<=n&&(B=d);null===e&&(e=0);d=e;for(q=!0;q&&0<d;)d--,q=null===t[d][1];null===B&&(B=t.length-1);n=B;for(q=!0;q&&n<t.length-1;)n++,q=null===t[n][1];d!==e&&(e=d);n!==B&&(B=n);h[b-1]=[e,B];t=t.slice(e,B+1)}else t=a[b],h[b-1]=[0,t.length-1];e=this.attr_("labels")[b];B=this.dataHandler_.getExtremeYValues(t,c,this.getBooleanOption("stepPlot",e));t=this.dataHandler_.seriesToPoints(t,e,h[b-1][0]);this.getBooleanOption("stackedGraph")&&(g=this.attributes_.axisForSeries(e),void 0===l[g]&&(l[g]=[]),r.stackPoints_(t,l[g],B,this.getBooleanOption("stackedGraphNaNFill")));m[e]=B;k[b]=t}return{points:k,extremes:m,boundaryIds:h}};r.prototype.drawGraph_=function(){var a=new Date,c=this.is_initial_draw_;this.is_initial_draw_=!1;this.layout_.removeAllDatasets();this.setColors_();this.attrs_.pointSize=.5*this.getNumericOption("highlightCircleSize");var b=this.gatherDatasets_(this.rolledSeries_,this.dateWindow_),d=b.points,e=b.extremes;this.boundaryIds_=b.boundaryIds;this.setIndexByName_={};b=this.attr_("labels");for(var g=0,h=1;h<d.length;h++)this.visibility()[h-1]&&(this.layout_.addDataset(b[h],d[h]),this.datasetIndex_[h]=g++);for(h=0;h<b.length;h++)this.setIndexByName_[b[h]]=h;if(this.computeYAxisRanges_(e),this.layout_.setYAxes(this.axes_),this.addXTicks_(),this.layout_.evaluate(),this.renderGraph_(c),this.getStringOption("timingName"))c=new Date,console.log(this.getStringOption("timingName")+" - drawGraph: "+(c-a)+"ms")};r.prototype.renderGraph_=function(a){this.cascadeEvents_("clearChart");this.plotter_.clear();var c=this.getFunctionOption("underlayCallback");c&&c.call(this,this.hidden_ctx_,this.layout_.getPlotArea(),this,this);c={canvas:this.hidden_,drawingContext:this.hidden_ctx_};this.cascadeEvents_("willDrawChart",c);this.plotter_.render();this.cascadeEvents_("didDrawChart",c);this.lastRow_=-1;this.canvas_.getContext("2d").clearRect(0,0,this.width_,this.height_);c=this.getFunctionOption("drawCallback");if(null!==c&&c.call(this,this,a),a)for(this.readyFired_=!0;0<this.readyFns_.length;)this.readyFns_.pop()(this)};r.prototype.computeYAxes_=function(){var a,c;this.axes_=[];for(a=0;a<this.attributes_.numAxes();a++){var b={g:this};l.update(b,this.attributes_.axisOptions(a));this.axes_[a]=b}for(a=0;a<this.axes_.length;a++)0===a?(b=this.optionsViewForAxis_("y"+(a?"2":"")),(c=b("valueRange"))&&(this.axes_[a].valueRange=c)):(b=this.user_attrs_.axes)&&b.y2&&(c=b.y2.valueRange)&&(this.axes_[a].valueRange=c)};r.prototype.numAxes=function(){return this.attributes_.numAxes()};r.prototype.axisPropertiesForSeries=function(a){return this.axes_[this.attributes_.axisForSeries(a)]};r.prototype.computeYAxisRanges_=function(a){for(var c,b,d,e,g=this.attributes_.numAxes(),h=0;h<g;h++){var k=this.axes_[h],m=this.attributes_.getForAxis("logscale",h),t=this.attributes_.getForAxis("includeZero",h),q=this.attributes_.getForAxis("independentTicks",h);b=this.attributes_.seriesForAxis(h);c=!0;d=.1;var n=this.getNumericOption("yRangePad");if(null!==n&&(c=!1,d=n/this.plotter_.area.h),0===b.length)k.extremeRange=[0,1];else{var p,r;n=1/0;for(var v=-1/0,w=0;w<b.length;w++)a.hasOwnProperty(b[w])&&(p=a[b[w]][0],null!==p&&(n=Math.min(p,n)),null!==(r=a[b[w]][1])&&(v=Math.max(r,v)));t&&!m&&(0<n&&(n=0),0>v&&(v=0));n==1/0&&(n=0);v==-1/0&&(v=1);b=v-n;0===b&&(0!==v?b=Math.abs(v):(v=1,b=1));t=v;w=n;c&&(m?(t=v+d*b,w=n):(t=v+d*b,w=n-d*b,0>w&&0<=n&&(w=0),0<t&&0>=v&&(t=0)));k.extremeRange=[w,t]}k.valueRange?(n=isNaN(parseFloat(k.valueRange[0]))?k.extremeRange[0]:k.valueRange[0],v=isNaN(parseFloat(k.valueRange[1]))?k.extremeRange[1]:k.valueRange[1],k.computedValueRange=[n,v]):k.computedValueRange=k.extremeRange;c||(m?(n=k.computedValueRange[0],v=k.computedValueRange[1],c=(d-1)/(2*d-1),k.computedValueRange[0]=l.logRangeFraction(n,v,d/(2*d-1)),k.computedValueRange[1]=l.logRangeFraction(n,v,c)):(n=k.computedValueRange[0],v=k.computedValueRange[1],b=v-n,k.computedValueRange[0]=n-b*d,k.computedValueRange[1]=v+b*d));q&&(k.independentTicks=q,d=this.optionsViewForAxis_("y"+(h?"2":"")),q=d("ticker"),k.ticks=q(k.computedValueRange[0],k.computedValueRange[1],this.plotter_.area.h,d,this),e||(e=k))}if(void 0===e)throw'Configuration Error: At least one axis has to have the "independentTicks" option activated.';for(h=0;h<g;h++)if(k=this.axes_[h],!k.independentTicks){d=this.optionsViewForAxis_("y"+(h?"2":""));q=d("ticker");a=e.ticks;p=e.computedValueRange[1]-e.computedValueRange[0];r=k.computedValueRange[1]-k.computedValueRange[0];c=[];for(m=0;m<a.length;m++)c.push(k.computedValueRange[0]+(a[m].v-e.computedValueRange[0])/p*r);k.ticks=q(k.computedValueRange[0],k.computedValueRange[1],this.plotter_.area.h,d,this,c)}};r.prototype.detectTypeFromString_=function(a){var c=!1,b=a.indexOf("-");0<b&&"e"!=a[b-1]&&"E"!=a[b-1]||0<=a.indexOf("/")||isNaN(parseFloat(a))?c=!0:8==a.length&&"19700101"<a&&"20371231">a&&(c=!0);this.setXAxisOptions_(c)};r.prototype.setXAxisOptions_=function(a){a?(this.attrs_.xValueParser=l.dateParser,this.attrs_.axes.x.valueFormatter=l.dateValueFormatter,this.attrs_.axes.x.ticker=q.dateTicker,this.attrs_.axes.x.axisLabelFormatter=l.dateAxisLabelFormatter):(this.attrs_.xValueParser=function(a){return parseFloat(a)},this.attrs_.axes.x.valueFormatter=function(a){return a},this.attrs_.axes.x.ticker=q.numericTicks,this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter)};r.prototype.parseCSV_=function(a){var c=[],b=l.detectLineDelimiter(a);a=a.split(b||"\n");b=this.getStringOption("delimiter");-1==a[0].indexOf(b)&&0<=a[0].indexOf("\t")&&(b="\t");var d=0;"labels"in this.user_attrs_||(d=1,this.attrs_.labels=a[0].split(b),this.attributes_.reparseSeries());for(var e,g=!1,h=this.attr_("labels").length,k=!1,m=d;m<a.length;m++){var t=a[m];if(m,0!==t.length&&"#"!=t[0]){var q=t.split(b);if(!(2>q.length)){var n=[];if(g||(this.detectTypeFromString_(q[0]),e=this.getFunctionOption("xValueParser"),g=!0),n[0]=e(q[0],this),this.fractions_)for(d=1;d<q.length;d++){var v=q[d].split("/");2!=v.length?(console.error('Expected fractional "num/den" values in CSV data but found a value \''+q[d]+"' on line "+(1+m)+" ('"+t+"') which is not of this form."),n[d]=[0,0]):n[d]=[l.parseFloat_(v[0],m,t),l.parseFloat_(v[1],m,t)]}else if(this.getBooleanOption("errorBars"))for(1!=q.length%2&&console.error("Expected alternating (value, stdev.) pairs in CSV data but line "+(1+m)+" has an odd number of values ("+(q.length-1)+"): '"+t+"'"),d=1;d<q.length;d+=2)n[(d+1)/2]=[l.parseFloat_(q[d],m,t),l.parseFloat_(q[d+1],m,t)];else if(this.getBooleanOption("customBars"))for(d=1;d<q.length;d++){var p=q[d];/^ *$/.test(p)?n[d]=[null,null,null]:(v=p.split(";"),3==v.length?n[d]=[l.parseFloat_(v[0],m,t),l.parseFloat_(v[1],m,t),l.parseFloat_(v[2],m,t)]:console.warn('When using customBars, values must be either blank or "low;center;high" tuples (got "'+p+'" on line '+(1+m)))}else for(d=1;d<q.length;d++)n[d]=l.parseFloat_(q[d],m,t);if(0<c.length&&n[0]<c[c.length-1][0]&&(k=!0),n.length!=h&&console.error("Number of columns in line "+m+" ("+n.length+") does not agree with number of labels ("+h+") "+t),0===m&&this.attr_("labels")){q=!0;for(d=0;q&&d<n.length;d++)n[d]&&(q=!1);if(q){console.warn("The dygraphs 'labels' option is set, but the first row of CSV data ('"+t+"') appears to also contain labels. Will drop the CSV labels and use the option labels.");continue}}c.push(n)}}}return k&&(console.warn("CSV is out of order; order it correctly to speed loading."),c.sort(function(a,c){return a[0]-c[0]})),c};r.prototype.parseArray_=function(a){if(0===a.length)return console.error("Can't plot empty data set"),null;if(0===a[0].length)return console.error("Data set cannot contain an empty row"),null;h(a);var c;if(null===this.attr_("labels")){console.warn("Using default labels. Set labels explicitly via 'labels' in the options parameter");this.attrs_.labels=["X"];for(c=1;c<a[0].length;c++)this.attrs_.labels.push("Y"+c);this.attributes_.reparseSeries()}else if(c=this.attr_("labels"),c.length!=a[0].length)return console.error("Mismatch between number of labels ("+c+") and number of columns in array ("+a[0].length+")"),null;if(l.isDateLike(a[0][0])){this.attrs_.axes.x.valueFormatter=l.dateValueFormatter;this.attrs_.axes.x.ticker=q.dateTicker;this.attrs_.axes.x.axisLabelFormatter=l.dateAxisLabelFormatter;var b=l.clone(a);for(c=0;c<a.length;c++){if(0===b[c].length)return console.error("Row "+(1+c)+" of data is empty"),null;if(null===b[c][0]||"function"!=typeof b[c][0].getTime||isNaN(b[c][0].getTime()))return console.error("x value in row "+(1+c)+" is not a Date"),null;b[c][0]=b[c][0].getTime()}return b}return this.attrs_.axes.x.valueFormatter=function(a){return a},this.attrs_.axes.x.ticker=q.numericTicks,this.attrs_.axes.x.axisLabelFormatter=l.numberAxisLabelFormatter,a};r.prototype.parseDataTable_=function(a){var c=a.getNumberOfColumns(),b=a.getNumberOfRows(),d=a.getColumnType(0);if("date"==d||"datetime"==d)this.attrs_.xValueParser=l.dateParser,this.attrs_.axes.x.valueFormatter=l.dateValueFormatter,this.attrs_.axes.x.ticker=q.dateTicker,this.attrs_.axes.x.axisLabelFormatter=l.dateAxisLabelFormatter;else{if("number"!=d)throw Error("only 'date', 'datetime' and 'number' types are supported for column 1 of DataTable input (Got '"+d+"')");this.attrs_.xValueParser=function(a){return parseFloat(a)};this.attrs_.axes.x.valueFormatter=function(a){return a};this.attrs_.axes.x.ticker=q.numericTicks;this.attrs_.axes.x.axisLabelFormatter=this.attrs_.axes.x.valueFormatter}var e,g=[],h={},k=!1;for(e=1;e<c;e++){var m=a.getColumnType(e);if("number"==m)g.push(e);else{if("string"!=m||!this.getBooleanOption("displayAnnotations"))throw Error("Only 'number' is supported as a dependent type with Gviz. 'string' is only supported if displayAnnotations is true");k=g[g.length-1];h.hasOwnProperty(k)?h[k].push(e):h[k]=[e];k=!0}}c=[a.getColumnLabel(0)];for(e=0;e<g.length;e++)c.push(a.getColumnLabel(g[e])),this.getBooleanOption("errorBars")&&(e+=1);this.attrs_.labels=c;c=c.length;var t=[],n=!1,v=[];for(e=0;e<b;e++){var p=[];if(void 0!==a.getValue(e,0)&&null!==a.getValue(e,0)){if("date"==d||"datetime"==d?p.push(a.getValue(e,0).getTime()):p.push(a.getValue(e,0)),this.getBooleanOption("errorBars"))for(m=0;m<c-1;m++)p.push([a.getValue(e,1+2*m),a.getValue(e,2+2*m)]);else{for(m=0;m<g.length;m++){var r=g[m];if(p.push(a.getValue(e,r)),k&&h.hasOwnProperty(r)&&null!==a.getValue(e,h[r][0])){var w={};w.series=a.getColumnLabel(r);w.xval=p[0];w.shortText=function(a){var c=String.fromCharCode(65+a%26);for(a=Math.floor(a/26);0<a;)c=String.fromCharCode(65+(a-1)%26)+c.toLowerCase(),a=Math.floor((a-1)/26);return c}(v.length);w.text="";for(var u=0;u<h[r].length;u++)u&&(w.text+="\n"),w.text+=a.getValue(e,h[r][u]);v.push(w)}}for(m=0;m<p.length;m++)isFinite(p[m])||(p[m]=null)}0<t.length&&p[0]<t[t.length-1][0]&&(n=!0);t.push(p)}else console.warn("Ignoring row "+e+" of DataTable because of undefined or null first column.")}n&&(console.warn("DataTable is out of order; order it correctly to speed loading."),t.sort(function(a,c){return a[0]-c[0]}));this.rawData_=t;0<v.length&&this.setAnnotations(v,!0);this.attributes_.reparseSeries()};r.prototype.cascadeDataDidUpdateEvent_=function(){this.cascadeEvents_("dataDidUpdate",{})};r.prototype.start_=function(){var a=this.file_;if("function"==typeof a&&(a=a()),l.isArrayLike(a))this.rawData_=this.parseArray_(a),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("object"==typeof a&&"function"==typeof a.getColumnRange)this.parseDataTable_(a),this.cascadeDataDidUpdateEvent_(),this.predraw_();else if("string"==typeof a)if(l.detectLineDelimiter(a))this.loadedEvent_(a);else{var c=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP");var b=this;c.onreadystatechange=function(){4==c.readyState&&(200!==c.status&&0!==c.status||b.loadedEvent_(c.responseText))};c.open("GET",a,!0);c.send(null)}else console.error("Unknown data format: "+typeof a)};r.prototype.updateOptions=function(a,c){void 0===c&&(c=!1);var b=a.file,d=r.copyUserAttrs_(a);"rollPeriod"in d&&(this.rollPeriod_=d.rollPeriod);"dateWindow"in d&&(this.dateWindow_=d.dateWindow);var e=l.isPixelChangingOptionList(this.attr_("labels"),d);l.updateDeep(this.user_attrs_,d);this.attributes_.reparseSeries();b?(this.cascadeEvents_("dataWillUpdate",{}),this.file_=b,c||this.start_()):c||(e?this.predraw_():this.renderGraph_(!1))};r.copyUserAttrs_=function(a){var c={},b;for(b in a)a.hasOwnProperty(b)&&"file"!=b&&a.hasOwnProperty(b)&&(c[b]=a[b]);return c};r.prototype.resize=function(a,c){if(!this.resize_lock){this.resize_lock=!0;null===a!=(null===c)&&(console.warn("Dygraph.resize() should be called with zero parameters or two non-NULL parameters. Pretending it was zero."),a=c=null);var b=this.width_,d=this.height_;a?(this.maindiv_.style.width=a+"px",this.maindiv_.style.height=c+"px",this.width_=a,this.height_=c):(this.width_=this.maindiv_.clientWidth,this.height_=this.maindiv_.clientHeight);b==this.width_&&d==this.height_||(this.resizeElements_(),this.predraw_());this.resize_lock=!1}};r.prototype.adjustRoll=function(a){this.rollPeriod_=a;this.predraw_()};r.prototype.visibility=function(){for(this.getOption("visibility")||(this.attrs_.visibility=[]);this.getOption("visibility").length<this.numColumns()-1;)this.attrs_.visibility.push(!0);return this.getOption("visibility")};r.prototype.setVisibility=function(a,c){var b=this.visibility(),d=!1;if(Array.isArray(a)||(null!==a&&"object"==typeof a?d=!0:a=[a]),d)for(var e in a)a.hasOwnProperty(e)&&(0>e||e>=b.length?console.warn("Invalid series number in setVisibility: "+e):b[e]=a[e]);else for(e=0;e<a.length;e++)"boolean"==typeof a[e]?e>=b.length?console.warn("Invalid series number in setVisibility: "+e):b[e]=a[e]:0>a[e]||a[e]>=b.length?console.warn("Invalid series number in setVisibility: "+a[e]):b[a[e]]=c;this.predraw_()};r.prototype.size=function(){return{width:this.width_,height:this.height_}};r.prototype.setAnnotations=function(a,c){if(this.annotations_=a,!this.layout_)return void console.warn("Tried to setAnnotations before dygraph was ready. Try setting them in a ready() block. See dygraphs.com/tests/annotation.html");this.layout_.setAnnotations(this.annotations_);c||this.predraw_()};r.prototype.annotations=function(){return this.annotations_};r.prototype.getLabels=function(){var a=this.attr_("labels");return a?a.slice():null};r.prototype.indexFromSetName=function(a){return this.setIndexByName_[a]};r.prototype.getRowForX=function(a){for(var c=0,b=this.numRows()-1;c<=b;){var d=b+c>>1,e=this.getValue(d,0);if(e<a)c=d+1;else if(e>a)b=d-1;else{if(c==d)return d;b=d}}return null};r.prototype.ready=function(a){this.is_initial_draw_?this.readyFns_.push(a):a.call(this,this)};r.prototype.addAndTrackEvent=function(a,c,b){l.addEvent(a,c,b);this.registeredEvents_.push({elem:a,type:c,fn:b})};r.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_)for(var a=0;a<this.registeredEvents_.length;a++){var c=this.registeredEvents_[a];l.removeEvent(c.elem,c.type,c.fn)}this.registeredEvents_=[]};r.PLUGINS=[E["default"],C["default"],K["default"],G["default"],x["default"],H["default"]];r.GVizChart=J["default"];r.DASHED_LINE=l.DASHED_LINE;r.DOT_DASH_LINE=l.DOT_DASH_LINE;r.dateAxisLabelFormatter=l.dateAxisLabelFormatter;r.toRGB_=l.toRGB_;r.findPos=l.findPos;r.pageX=l.pageX;r.pageY=l.pageY;r.dateString_=l.dateString_;r.defaultInteractionModel=g["default"].defaultModel;r.nonInteractiveModel=r.nonInteractiveModel_=g["default"].nonInteractiveModel_;r.Circles=l.Circles;r.Plugins={Legend:E["default"],Axes:C["default"],Annotations:x["default"],ChartLabels:G["default"],Grid:H["default"],RangeSelector:K["default"]};r.DataHandlers={DefaultHandler:z["default"],BarsHandler:n["default"],CustomBarsHandler:A["default"],DefaultFractionHandler:F["default"],ErrorBarsHandler:y["default"],FractionsBarsHandler:D["default"]};r.startPan=g["default"].startPan;r.startZoom=g["default"].startZoom;r.movePan=g["default"].movePan;r.moveZoom=g["default"].moveZoom;r.endPan=g["default"].endPan;r.endZoom=g["default"].endZoom;r.numericLinearTicks=q.numericLinearTicks;r.numericTicks=q.numericTicks;r.dateTicker=q.dateTicker;r.Granularity=q.Granularity;r.getDateAxis=q.getDateAxis;r.floatFormat=l.floatFormat;b["default"]=r;d.exports=b["default"]}).call(this,a("_process"))},{"./datahandler/bars":5,"./datahandler/bars-custom":2,"./datahandler/bars-error":3,"./datahandler/bars-fractions":4,"./datahandler/default":8,"./datahandler/default-fractions":7,"./dygraph-canvas":9,"./dygraph-default-attrs":10,"./dygraph-gviz":11,"./dygraph-interaction-model":12,"./dygraph-layout":13,"./dygraph-options":15,"./dygraph-options-reference":14,"./dygraph-tickers":16,"./dygraph-utils":17,"./iframe-tarp":19,"./plugins/annotations":20,"./plugins/axes":21,"./plugins/chart-labels":22,"./plugins/grid":23,"./plugins/legend":24,"./plugins/range-selector":25,_process:1}],19:[function(a,d,b){function g(){this.tarps=[]}Object.defineProperty(b,"__esModule",{value:!0});var k=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(a("./dygraph-utils"));g.prototype.cover=function(){for(var a=document.getElementsByTagName("iframe"),b=0;b<a.length;b++){var c=a[b],d=k.findPos(c),g=d.x;d=d.y;var v=c.offsetWidth;c=c.offsetHeight;var n=document.createElement("div");n.style.position="absolute";n.style.left=g+"px";n.style.top=d+"px";n.style.width=v+"px";n.style.height=c+"px";n.style.zIndex=999;document.body.appendChild(n);this.tarps.push(n)}};g.prototype.uncover=function(){for(var a=0;a<this.tarps.length;a++)this.tarps[a].parentNode.removeChild(this.tarps[a]);this.tarps=[]};b["default"]=g;d.exports=b["default"]},{"./dygraph-utils":17}],20:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){this.annotations_=[]};a.prototype.toString=function(){return"Annotations Plugin"};a.prototype.activate=function(a){return{clearChart:this.clearChart,didDrawChart:this.didDrawChart}};a.prototype.detachLabels=function(){for(var a=0;a<this.annotations_.length;a++){var b=this.annotations_[a];b.parentNode&&b.parentNode.removeChild(b);this.annotations_[a]=null}this.annotations_=[]};a.prototype.clearChart=function(a){this.detachLabels()};a.prototype.didDrawChart=function(a){var b=a.dygraph,d=b.layout_.annotated_points;if(d&&0!==d.length)for(var g=a.canvas.parentNode,c=function(a,c,d){return function(e){var g=d.annotation;g.hasOwnProperty(a)?g[a](g,d,b,e):b.getOption(c)&&b.getOption(c)(g,d,b,e)}},m=a.dygraph.getArea(),w={},v=0;v<d.length;v++){var n=d[v];if(!(n.canvasx<m.x||n.canvasx>m.x+m.w||n.canvasy<m.y||n.canvasy>m.y+m.h)){var q=n.annotation,l=6;q.hasOwnProperty("tickHeight")&&(l=q.tickHeight);var p=document.createElement("div");p.style.fontSize=b.getOption("axisLabelFontSize")+"px";var u="dygraph-annotation";q.hasOwnProperty("icon")||(u+=" dygraphDefaultAnnotation dygraph-default-annotation");q.hasOwnProperty("cssClass")&&(u+=" "+q.cssClass);p.className=u;var z=q.hasOwnProperty("width")?q.width:16;u=q.hasOwnProperty("height")?q.height:16;if(q.hasOwnProperty("icon")){var y=document.createElement("img");y.src=q.icon;y.width=z;y.height=u;p.appendChild(y)}else n.annotation.hasOwnProperty("shortText")&&p.appendChild(document.createTextNode(n.annotation.shortText));y=n.canvasx-z/2;p.style.left=y+"px";var A=0;q.attachAtBottom?(A=m.y+m.h-u-l,w[y]?A-=w[y]:w[y]=0,w[y]+=l+u):A=n.canvasy-u-l;p.style.top=A+"px";p.style.width=z+"px";p.style.height=u+"px";p.title=n.annotation.text;p.style.color=b.colorsMap_[n.name];p.style.borderColor=b.colorsMap_[n.name];q.div=p;b.addAndTrackEvent(p,"click",c("clickHandler","annotationClickHandler",n));b.addAndTrackEvent(p,"mouseover",c("mouseOverHandler","annotationMouseOverHandler",n));b.addAndTrackEvent(p,"mouseout",c("mouseOutHandler","annotationMouseOutHandler",n));b.addAndTrackEvent(p,"dblclick",c("dblClickHandler","annotationDblClickHandler",n));g.appendChild(p);this.annotations_.push(p);p=a.drawingContext;(p.save(),p.strokeStyle=q.hasOwnProperty("tickColor")?q.tickColor:b.colorsMap_[n.name],p.lineWidth=q.hasOwnProperty("tickWidth")?q.tickWidth:b.getOption("strokeWidth"),p.beginPath(),q.attachAtBottom)?(A+=u,p.moveTo(n.canvasx,A),p.lineTo(n.canvasx,A+l)):(p.moveTo(n.canvasx,n.canvasy),p.lineTo(n.canvasx,n.canvasy-2-l));p.closePath();p.stroke();p.restore()}}};a.prototype.destroy=function(){this.detachLabels()};b["default"]=a;d.exports=b["default"]},{}],21:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&(b[d]=a[d]);return b["default"]=a,b}(a("../dygraph-utils"));a=function(){this.xlabels_=[];this.ylabels_=[]};a.prototype.toString=function(){return"Axes Plugin"};a.prototype.activate=function(a){return{layout:this.layout,clearChart:this.clearChart,willDrawChart:this.willDrawChart}};a.prototype.layout=function(a){var b=a.dygraph;if(b.getOptionForAxis("drawAxis","y")){var d=b.getOptionForAxis("axisLabelWidth","y")+2*b.getOptionForAxis("axisTickSize","y");a.reserveSpaceLeft(d)}b.getOptionForAxis("drawAxis","x")&&(d=b.getOption("xAxisHeight")?b.getOption("xAxisHeight"):b.getOptionForAxis("axisLabelFontSize","x")+2*b.getOptionForAxis("axisTickSize","x"),a.reserveSpaceBottom(d));2==b.numAxes()?b.getOptionForAxis("drawAxis","y2")&&(d=b.getOptionForAxis("axisLabelWidth","y2")+2*b.getOptionForAxis("axisTickSize","y2"),a.reserveSpaceRight(d)):2<b.numAxes()&&b.error("Only two y-axes are supported at this time. (Trying to use "+b.numAxes()+")")};a.prototype.detachLabels=function(){function a(a){for(var b=0;b<a.length;b++){var c=a[b];c.parentNode&&c.parentNode.removeChild(c)}}a(this.xlabels_);a(this.ylabels_);this.xlabels_=[];this.ylabels_=[]};a.prototype.clearChart=function(a){this.detachLabels()};a.prototype.willDrawChart=function(a){function b(a){return Math.round(a)-.5}var d=this,c=a.dygraph;if(c.getOptionForAxis("drawAxis","x")||c.getOptionForAxis("drawAxis","y")||c.getOptionForAxis("drawAxis","y2")){var k,w,v,n=a.drawingContext,q=a.canvas.parentNode,l=c.width_,p=c.height_,u=function(a){return{position:"absolute",fontSize:c.getOptionForAxis("axisLabelFontSize",a)+"px",width:c.getOptionForAxis("axisLabelWidth",a)+"px"}},z={x:u("x"),y:u("y"),y2:u("y2")},y=function(a,c,b){var d=document.createElement("div");g.update(d.style,z["y2"==b?"y2":c]);var e=document.createElement("div");return e.className="dygraph-axis-label dygraph-axis-label-"+c+(b?" dygraph-axis-label-"+b:""),e.innerHTML=a,d.appendChild(e),d};n.save();u=c.layout_;var A=a.dygraph.plotter_.area;a=function(a){return function(b){return c.getOptionForAxis(b,a)}};if(c.getOptionForAxis("drawAxis","y")){if(u.yticks&&0<u.yticks.length){var F=c.numAxes(),D=[a("y"),a("y2")];u.yticks.forEach(function(a){if(void 0!==a.label){w=A.x;var c="y1",b=D[0];1==a.axis&&(w=A.x+A.w,-1,c="y2",b=D[1]);var e=b("axisLabelFontSize");v=A.y+a.pos*A.h;k=y(a.label,"y",2==F?c:null);c=v-e/2;0>c&&(c=0);c+e+3>p?k.style.bottom="0":k.style.top=c+"px";0===a.axis?(k.style.left=A.x-b("axisLabelWidth")-b("axisTickSize")+"px",k.style.textAlign="right"):1==a.axis&&(k.style.left=A.x+A.w+b("axisTickSize")+"px",k.style.textAlign="left");k.style.width=b("axisLabelWidth")+"px";q.appendChild(k);d.ylabels_.push(k)}});var x=this.ylabels_[0],C=c.getOptionForAxis("axisLabelFontSize","y");parseInt(x.style.top,10)+C>p-C&&(x.style.top=parseInt(x.style.top,10)-C/2+"px")}c.getOption("drawAxesAtZero")?(x=c.toPercentXCoord(0),(1<x||0>x||isNaN(x))&&(x=0),x=Math.round(A.x+x*A.w)+.5):x=Math.round(A.x)+.5;n.strokeStyle=c.getOptionForAxis("axisLineColor","y");n.lineWidth=c.getOptionForAxis("axisLineWidth","y");n.beginPath();n.moveTo(x,b(A.y));n.lineTo(x,b(A.y+A.h));n.closePath();n.stroke();2==c.numAxes()&&(n.strokeStyle=c.getOptionForAxis("axisLineColor","y2"),n.lineWidth=c.getOptionForAxis("axisLineWidth","y2"),n.beginPath(),n.moveTo(b(A.x+A.w),b(A.y)),n.lineTo(b(A.x+A.w),b(A.y+A.h)),n.closePath(),n.stroke())}if(c.getOptionForAxis("drawAxis","x")){if(u.xticks){var G=a("x");u.xticks.forEach(function(a){void 0!==a.label&&(w=A.x+a.pos*A.w,v=A.y+A.h,k=y(a.label,"x"),k.style.textAlign="center",k.style.top=v+G("axisTickSize")+"px",a=w-G("axisLabelWidth")/2,a+G("axisLabelWidth")>l&&(a=l-G("axisLabelWidth"),k.style.textAlign="right"),0>a&&(a=0,k.style.textAlign="left"),k.style.left=a+"px",k.style.width=G("axisLabelWidth")+"px",q.appendChild(k),d.xlabels_.push(k))})}n.strokeStyle=c.getOptionForAxis("axisLineColor","x");n.lineWidth=c.getOptionForAxis("axisLineWidth","x");n.beginPath();c.getOption("drawAxesAtZero")?(x=c.toPercentYCoord(0,0),(1<x||0>x)&&(x=1),u=b(A.y+x*A.h)):u=b(A.y+A.h);n.moveTo(Math.round(A.x)+.5,u);n.lineTo(Math.round(A.x+A.w)+.5,u);n.closePath();n.stroke()}n.restore()}};b["default"]=a;d.exports=b["default"]},{"../dygraph-utils":17}],22:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){this.y2label_div_=this.ylabel_div_=this.xlabel_div_=this.title_div_=null};a.prototype.toString=function(){return"ChartLabels Plugin"};a.prototype.activate=function(a){return{layout:this.layout,didDrawChart:this.didDrawChart}};var g=function(a){var b=document.createElement("div");return b.style.position="absolute",b.style.left=a.x+"px",b.style.top=a.y+"px",b.style.width=a.w+"px",b.style.height=a.h+"px",b};a.prototype.detachLabels_=function(){for(var a=[this.title_div_,this.xlabel_div_,this.ylabel_div_,this.y2label_div_],b=0;b<a.length;b++){var c=a[b];c&&c.parentNode&&c.parentNode.removeChild(c)}this.y2label_div_=this.ylabel_div_=this.xlabel_div_=this.title_div_=null};var k=function(a,b,c,d,g){var e=document.createElement("div");e.style.position="absolute";e.style.left=1==c?"0px":b.x+"px";e.style.top=b.y+"px";e.style.width=b.w+"px";e.style.height=b.h+"px";e.style.fontSize=a.getOption("yLabelWidth")-2+"px";a=document.createElement("div");a.style.position="absolute";a.style.width=b.h+"px";a.style.height=b.w+"px";a.style.top=b.h/2-b.w/2+"px";a.style.left=b.w/2-b.h/2+"px";a.className="dygraph-label-rotate-"+(1==c?"right":"left");b=document.createElement("div");return b.className=d,b.innerHTML=g,a.appendChild(b),e.appendChild(a),e};a.prototype.layout=function(a){this.detachLabels_();var b=a.dygraph,c=a.chart_div;if(b.getOption("title")){var d=a.reserveSpaceTop(b.getOption("titleHeight"));this.title_div_=g(d);this.title_div_.style.fontSize=b.getOption("titleHeight")-8+"px";d=document.createElement("div");d.className="dygraph-label dygraph-title";d.innerHTML=b.getOption("title");this.title_div_.appendChild(d);c.appendChild(this.title_div_)}b.getOption("xlabel")&&(d=a.reserveSpaceBottom(b.getOption("xLabelHeight")),this.xlabel_div_=g(d),this.xlabel_div_.style.fontSize=b.getOption("xLabelHeight")-2+"px",d=document.createElement("div"),d.className="dygraph-label dygraph-xlabel",d.innerHTML=b.getOption("xlabel"),this.xlabel_div_.appendChild(d),c.appendChild(this.xlabel_div_));b.getOption("ylabel")&&(d=a.reserveSpaceLeft(0),this.ylabel_div_=k(b,d,1,"dygraph-label dygraph-ylabel",b.getOption("ylabel")),c.appendChild(this.ylabel_div_));b.getOption("y2label")&&2==b.numAxes()&&(a=a.reserveSpaceRight(0),this.y2label_div_=k(b,a,2,"dygraph-label dygraph-y2label",b.getOption("y2label")),c.appendChild(this.y2label_div_))};a.prototype.didDrawChart=function(a){a=a.dygraph;this.title_div_&&(this.title_div_.children[0].innerHTML=a.getOption("title"));this.xlabel_div_&&(this.xlabel_div_.children[0].innerHTML=a.getOption("xlabel"));this.ylabel_div_&&(this.ylabel_div_.children[0].children[0].innerHTML=a.getOption("ylabel"));this.y2label_div_&&(this.y2label_div_.children[0].children[0].innerHTML=a.getOption("y2label"))};a.prototype.clearChart=function(){};a.prototype.destroy=function(){this.detachLabels_()};b["default"]=a;d.exports=b["default"]},{}],23:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});a=function(){};a.prototype.toString=function(){return"Gridline Plugin"};a.prototype.activate=function(a){return{willDrawChart:this.willDrawChart}};a.prototype.willDrawChart=function(a){var b,d,g=a.dygraph,c=a.drawingContext,m=g.layout_,w=a.dygraph.plotter_.area;if(g.getOptionForAxis("drawGrid","y")){var v=["y","y2"],n=[],q=[],l=[],p=[],u=[];for(a=0;a<v.length;a++)l[a]=g.getOptionForAxis("drawGrid",v[a]),l[a]&&(n[a]=g.getOptionForAxis("gridLineColor",v[a]),q[a]=g.getOptionForAxis("gridLineWidth",v[a]),u[a]=g.getOptionForAxis("gridLinePattern",v[a]),p[a]=u[a]&&2<=u[a].length);a=m.yticks;c.save();a.forEach(function(a){if(a.has_tick){var e=a.axis;l[e]&&(c.save(),p[e]&&c.setLineDash&&c.setLineDash(u[e]),c.strokeStyle=n[e],c.lineWidth=q[e],b=Math.round(w.x)+.5,d=Math.round(w.y+a.pos*w.h)-.5,c.beginPath(),c.moveTo(b,d),c.lineTo(b+w.w,d),c.stroke(),c.restore())}});c.restore()}g.getOptionForAxis("drawGrid","x")&&(a=m.xticks,c.save(),(p=(u=g.getOptionForAxis("gridLinePattern","x"))&&2<=u.length)&&c.setLineDash&&c.setLineDash(u),c.strokeStyle=g.getOptionForAxis("gridLineColor","x"),c.lineWidth=g.getOptionForAxis("gridLineWidth","x"),a.forEach(function(a){a.has_tick&&(b=Math.round(w.x+a.pos*w.w)+.5,d=Math.round(w.y+w.h)-.5,c.beginPath(),c.moveTo(b,d),c.lineTo(b,w.y),c.closePath(),c.stroke())}),p&&c.setLineDash&&c.setLineDash([]),c.restore())};a.prototype.destroy=function(){};b["default"]=a;d.exports=b["default"]},{}],24:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(a("../dygraph-utils")),k=function(){this.legend_div_=null;this.is_generated_div_=!1};k.prototype.toString=function(){return"Legend Plugin"};k.prototype.activate=function(a){var b,c=a.getOption("labelsDiv");return c&&null!==c?b="string"==typeof c||c instanceof String?document.getElementById(c):c:(b=document.createElement("div"),b.className="dygraph-legend",a.graphDiv.appendChild(b),this.is_generated_div_=!0),this.legend_div_=b,this.one_em_width_=10,{select:this.select,deselect:this.deselect,predraw:this.predraw,didDrawChart:this.didDrawChart}};k.prototype.select=function(a){var b=a.selectedX,c=a.selectedPoints,d=a.selectedRow,e=a.dygraph.getOption("legend");if("never"===e)return void(this.legend_div_.style.display="none");if("follow"===e){e=a.dygraph.plotter_.area;var g=this.legend_div_.offsetWidth,n=a.dygraph.getOptionForAxis("axisLabelWidth","y"),q=c[0].x*e.w+50,l=c[0].y*e.h-50;q+g+1>e.w&&(q=q-100-g-(n-e.x));a.dygraph.graphDiv.appendChild(this.legend_div_);this.legend_div_.style.left=n+q+"px";this.legend_div_.style.top=l+"px"}a=k.generateLegendHTML(a.dygraph,b,c,this.one_em_width_,d);this.legend_div_.innerHTML=a;this.legend_div_.style.display=""};k.prototype.deselect=function(a){"always"!==a.dygraph.getOption("legend")&&(this.legend_div_.style.display="none");var b=this.legend_div_;var c=document.createElement("span");c.setAttribute("style","margin: 0; padding: 0 0 0 1em; border: 0;");b.appendChild(c);var d=c.offsetWidth;this.one_em_width_=b=(b.removeChild(c),d);a=k.generateLegendHTML(a.dygraph,void 0,void 0,b,null);this.legend_div_.innerHTML=a};k.prototype.didDrawChart=function(a){this.deselect(a)};k.prototype.predraw=function(a){this.is_generated_div_&&(a.dygraph.graphDiv.appendChild(this.legend_div_),a=a.dygraph.getArea(),this.legend_div_.style.left=a.x+a.w-this.legend_div_.offsetWidth-1+"px",this.legend_div_.style.top=a.y+"px")};k.prototype.destroy=function(){this.legend_div_=null};k.generateLegendHTML=function(a,b,c,d,w){var e={dygraph:a,x:b,series:[]},h={},m=a.getLabels();if(m)for(var l=1;l<m.length;l++){var p=a.getPropertiesForSeries(m[l]);var u,z,y=a.getOption("strokePattern",m[l]);var A=d;if(!y||1>=y.length)var F='<div class="dygraph-legend-line" style="border-bottom-color: '+p.color+';"></div>';else{var D=0;var x=[];for(z=0;z<=y.length;z++)D+=y[z%y.length];if(1<(F=Math.floor(A/(D-y[0])))){for(z=0;z<y.length;z++)x[z]=y[z]/A;var C=x.length}else{F=1;for(z=0;z<y.length;z++)x[z]=y[z]/D;C=x.length+1}var G="";for(u=0;u<F;u++)for(z=0;z<C;z+=2)D=x[z%x.length],A=z<y.length?x[(z+1)%x.length]:0,G+='<div class="dygraph-legend-dash" style="margin-right: '+A+"em; padding-left: "+D+'em;"></div>';F=G}F={dashHTML:F,label:m[l],labelHTML:m[l].replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),isVisible:p.visible,color:p.color};e.series.push(F);h[m[l]]=F}if(void 0!==b){l=a.optionsViewForAxis_("x");p=l("valueFormatter");e.xHTML=p.call(a,b,l,m[0],a,w,0);b=[];p=a.numAxes();for(l=0;l<p;l++)b[l]=a.optionsViewForAxis_("y"+(l?1+l:""));d=a.getOption("labelsShowZeroValues");z=a.getHighlightSeries();for(l=0;l<c.length;l++)y=c[l],F=h[y.name],(F.y=y.yval,0===y.yval&&!d||isNaN(y.canvasy))?F.isVisible=!1:(p=a.getPropertiesForSeries(y.name),p=b[p.axis-1],p=p("valueFormatter").call(a,y.yval,p,y.name,a,w,m.indexOf(y.name)),g.update(F,{yHTML:p}),y.name==z&&(F.isHighlighted=!0))}return(a.getOption("legendFormatter")||k.defaultFormatter).call(a,e)};k.defaultFormatter=function(a){var b=a.dygraph;if(!0!==b.getOption("showLabelsOnHighlight"))return"";var c=b.getOption("labelsSeparateLines");if(void 0===a.x){if("always"!=b.getOption("legend"))return"";b="";for(var d=0;d<a.series.length;d++){var e=a.series[d];e.isVisible&&(""!==b&&(b+=c?"<br/>":" "),b+="<span style='font-weight: bold; color: "+e.color+";'>"+e.dashHTML+" "+e.labelHTML+"</span>")}return b}b=a.xHTML+":";for(d=0;d<a.series.length;d++)e=a.series[d],e.isVisible&&(c&&(b+="<br>"),b+="<span"+(e.isHighlighted?' class="highlight"':"")+"> <b><span style='color: "+e.color+";'>"+e.labelHTML+"</span></b>:&#160;"+e.yHTML+"</span>");return b};b["default"]=k;d.exports=b["default"]},{"../dygraph-utils":17}],25:[function(a,d,b){Object.defineProperty(b,"__esModule",{value:!0});var g=function(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)Object.prototype.hasOwnProperty.call(a,c)&&(b[c]=a[c]);return b["default"]=a,b}(a("../dygraph-utils")),k=a("../dygraph-interaction-model"),e=k&&k.__esModule?k:{"default":k},h=(a=a("../iframe-tarp"))&&a.__esModule?a:{"default":a};a=function(){this.hasTouchInterface_="undefined"!=typeof TouchEvent;this.isMobileDevice_=/mobile|android/gi.test(navigator.appVersion);this.interfaceCreated_=!1};a.prototype.toString=function(){return"RangeSelector Plugin"};a.prototype.activate=function(a){return this.dygraph_=a,this.getOption_("showRangeSelector")&&this.createInterface_(),{layout:this.reserveSpace_,predraw:this.renderStaticLayer_,didDrawChart:this.renderInteractiveLayer_}};a.prototype.destroy=function(){this.rightZoomHandle_=this.leftZoomHandle_=this.fgcanvas_=this.bgcanvas_=null};a.prototype.getOption_=function(a,b){return this.dygraph_.getOption(a,b)};a.prototype.setDefaultOption_=function(a,b){this.dygraph_.attrs_[a]=b};a.prototype.createInterface_=function(){this.createCanvases_();this.createZoomHandles_();this.initInteraction_();this.getOption_("animatedZooms")&&(console.warn("Animated zooms and range selector are not compatible; disabling animatedZooms."),this.dygraph_.updateOptions({animatedZooms:!1},!0));this.interfaceCreated_=!0;this.addToGraph_()};a.prototype.addToGraph_=function(){var a=this.graphDiv_=this.dygraph_.graphDiv;a.appendChild(this.bgcanvas_);a.appendChild(this.fgcanvas_);a.appendChild(this.leftZoomHandle_);a.appendChild(this.rightZoomHandle_)};a.prototype.removeFromGraph_=function(){var a=this.graphDiv_;a.removeChild(this.bgcanvas_);a.removeChild(this.fgcanvas_);a.removeChild(this.leftZoomHandle_);a.removeChild(this.rightZoomHandle_);this.graphDiv_=null};a.prototype.reserveSpace_=function(a){this.getOption_("showRangeSelector")&&a.reserveSpaceBottom(this.getOption_("rangeSelectorHeight")+4)};a.prototype.renderStaticLayer_=function(){this.updateVisibility_()&&(this.resize_(),this.drawStaticLayer_())};a.prototype.renderInteractiveLayer_=function(){this.updateVisibility_()&&!this.isChangingRange_&&(this.placeZoomHandles_(),this.drawInteractiveLayer_())};a.prototype.updateVisibility_=function(){var a=this.getOption_("showRangeSelector");if(a)this.interfaceCreated_?this.graphDiv_&&this.graphDiv_.parentNode||this.addToGraph_():this.createInterface_();else if(this.graphDiv_){this.removeFromGraph_();var b=this.dygraph_;setTimeout(function(){b.width_=0;b.resize()},1)}return a};a.prototype.resize_=function(){function a(a,b,c,d){d=d||g.getContextPixelRatio(b);a.style.top=c.y+"px";a.style.left=c.x+"px";a.width=c.w*d;a.height=c.h*d;a.style.width=c.w+"px";a.style.height=c.h+"px";1!=d&&b.scale(d,d)}var b=this.dygraph_.layout_.getPlotArea(),d=0;this.dygraph_.getOptionForAxis("drawAxis","x")&&(d=this.getOption_("xAxisHeight")||this.getOption_("axisLabelFontSize")+2*this.getOption_("axisTickSize"));this.canvasRect_={x:b.x,y:b.y+b.h+d+4,w:b.w,h:this.getOption_("rangeSelectorHeight")};b=this.dygraph_.getNumericOption("pixelRatio");a(this.bgcanvas_,this.bgcanvas_ctx_,this.canvasRect_,b);a(this.fgcanvas_,this.fgcanvas_ctx_,this.canvasRect_,b)};a.prototype.createCanvases_=function(){this.bgcanvas_=g.createCanvas();this.bgcanvas_.className="dygraph-rangesel-bgcanvas";this.bgcanvas_.style.position="absolute";this.bgcanvas_.style.zIndex=9;this.bgcanvas_ctx_=g.getContext(this.bgcanvas_);this.fgcanvas_=g.createCanvas();this.fgcanvas_.className="dygraph-rangesel-fgcanvas";this.fgcanvas_.style.position="absolute";this.fgcanvas_.style.zIndex=9;this.fgcanvas_.style.cursor="default";this.fgcanvas_ctx_=g.getContext(this.fgcanvas_)};a.prototype.createZoomHandles_=function(){var a=new Image;a.className="dygraph-rangesel-zoomhandle";a.style.position="absolute";a.style.zIndex=10;a.style.visibility="hidden";a.style.cursor="col-resize";a.width=9;a.height=16;a.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAQCAYAAADESFVDAAAAAXNSR0IArs4c6QAAAAZiS0dEANAAzwDP4Z7KegAAAAlwSFlzAAAOxAAADsQBlSsOGwAAAAd0SU1FB9sHGw0cMqdt1UwAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAaElEQVQoz+3SsRFAQBCF4Z9WJM8KCDVwownl6YXsTmCUsyKGkZzcl7zkz3YLkypgAnreFmDEpHkIwVOMfpdi9CEEN2nGpFdwD03yEqDtOgCaun7sqSTDH32I1pQA2Pb9sZecAxc5r3IAb21d6878xsAAAAAASUVORK5CYII=";this.isMobileDevice_&&(a.width*=2,a.height*=2);this.leftZoomHandle_=a;this.rightZoomHandle_=a.cloneNode(!1)};a.prototype.initInteraction_=function(){var a=this,b=document,d=0,k=null,n=!1,q=!1,l=!this.isMobileDevice_,p=new h["default"];var u=function(b){var c=a.dygraph_.xAxisExtremes(),d=(c[1]-c[0])/a.canvasRect_.w;return[c[0]+(b.leftHandlePos-a.canvasRect_.x)*d,c[0]+(b.rightHandlePos-a.canvasRect_.x)*d]};var z=function(c){return g.cancelEvent(c),n=!0,d=c.clientX,k=c.target?c.target:c.srcElement,"mousedown"!==c.type&&"dragstart"!==c.type||(g.addEvent(b,"mousemove",y),g.addEvent(b,"mouseup",A)),a.fgcanvas_.style.cursor="col-resize",p.cover(),!0};var y=function(b){if(!n)return!1;g.cancelEvent(b);var c=b.clientX-d;if(4>Math.abs(c))return!0;d=b.clientX;var e;b=a.getZoomHandleStatus_();k==a.leftZoomHandle_?(e=b.leftHandlePos+c,e=Math.min(e,b.rightHandlePos-k.width-3),e=Math.max(e,a.canvasRect_.x)):(e=b.rightHandlePos+c,e=Math.min(e,a.canvasRect_.x+a.canvasRect_.w),e=Math.max(e,b.leftHandlePos+k.width+3));return k.style.left=e-k.width/2+"px",a.drawInteractiveLayer_(),l&&F(),!0};var A=function(c){return!!n&&(n=!1,p.uncover(),g.removeEvent(b,"mousemove",y),g.removeEvent(b,"mouseup",A),a.fgcanvas_.style.cursor="default",l||F(),!0)};var F=function(){try{var b=a.getZoomHandleStatus_();if(a.isChangingRange_=!0,b.isZoomed){var c=u(b);a.dygraph_.doZoomXDates_(c[0],c[1])}else a.dygraph_.resetZoom()}finally{a.isChangingRange_=!1}};var D=function(b){var c=a.leftZoomHandle_.getBoundingClientRect(),d=c.left+c.width/2;c=a.rightZoomHandle_.getBoundingClientRect();c=c.left+c.width/2;return b.clientX>d&&b.clientX<c};var x=function(c){return!(q||!D(c)||!a.getZoomHandleStatus_().isZoomed)&&(g.cancelEvent(c),q=!0,d=c.clientX,"mousedown"===c.type&&(g.addEvent(b,"mousemove",C),g.addEvent(b,"mouseup",G)),!0)};var C=function(b){if(!q)return!1;g.cancelEvent(b);var c=b.clientX-d;if(4>Math.abs(c))return!0;d=b.clientX;var e=a.getZoomHandleStatus_();b=e.leftHandlePos;e=e.rightHandlePos;var k=e-b;b+c<=a.canvasRect_.x?(b=a.canvasRect_.x,e=b+k):e+c>=a.canvasRect_.x+a.canvasRect_.w?(e=a.canvasRect_.x+a.canvasRect_.w,b=e-k):(b+=c,e+=c);c=a.leftZoomHandle_.width/2;return a.leftZoomHandle_.style.left=b-c+"px",a.rightZoomHandle_.style.left=e-c+"px",a.drawInteractiveLayer_(),l&&H(),!0};var G=function(a){return!!q&&(q=!1,g.removeEvent(b,"mousemove",C),g.removeEvent(b,"mouseup",G),l||H(),!0)};var H=function(){try{a.isChangingRange_=!0,a.dygraph_.dateWindow_=u(a.getZoomHandleStatus_()),a.dygraph_.drawGraph_(!1)}finally{a.isChangingRange_=!1}};var E=function(a){"touchstart"==a.type&&1==a.targetTouches.length?z(a.targetTouches[0])&&g.cancelEvent(a):"touchmove"==a.type&&1==a.targetTouches.length?y(a.targetTouches[0])&&g.cancelEvent(a):A(a)};var K=function(a){"touchstart"==a.type&&1==a.targetTouches.length?x(a.targetTouches[0])&&g.cancelEvent(a):"touchmove"==a.type&&1==a.targetTouches.length?C(a.targetTouches[0])&&g.cancelEvent(a):G(a)};var J=function(b,c){for(var d=["touchstart","touchend","touchmove","touchcancel"],e=0;e<d.length;e++)a.dygraph_.addAndTrackEvent(b,d[e],c)};this.setDefaultOption_("interactionModel",e["default"].dragIsPanInteractionModel);this.setDefaultOption_("panEdgeFraction",1E-4);var r=window.opera?"mousedown":"dragstart";this.dygraph_.addAndTrackEvent(this.leftZoomHandle_,r,z);this.dygraph_.addAndTrackEvent(this.rightZoomHandle_,r,z);this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousedown",x);this.dygraph_.addAndTrackEvent(this.fgcanvas_,"mousemove",function(b){n||q||(b=D(b)?"move":"default",b!=a.fgcanvas_.style.cursor&&(a.fgcanvas_.style.cursor=b))});this.hasTouchInterface_&&(J(this.leftZoomHandle_,E),J(this.rightZoomHandle_,E),J(this.fgcanvas_,K))};a.prototype.drawStaticLayer_=function(){var a=this.bgcanvas_ctx_;a.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);try{this.drawMiniPlot_()}catch(m){console.warn(m)}this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorBackgroundLineWidth");a.strokeStyle=this.getOption_("rangeSelectorBackgroundStrokeColor");a.beginPath();a.moveTo(.5,.5);a.lineTo(.5,this.canvasRect_.h-.5);a.lineTo(this.canvasRect_.w-.5,this.canvasRect_.h-.5);a.lineTo(this.canvasRect_.w-.5,.5);a.stroke()};a.prototype.drawMiniPlot_=function(){var a=this.getOption_("rangeSelectorPlotFillColor"),b=this.getOption_("rangeSelectorPlotFillGradientColor"),d=this.getOption_("rangeSelectorPlotStrokeColor");if(a||d){var e=this.getOption_("stepPlot"),g=this.computeCombinedSeriesAndLimits_(),k=g.yMax-g.yMin,h=this.bgcanvas_ctx_,p=this.dygraph_.xAxisExtremes(),u=(this.canvasRect_.w-.5)/Math.max(p[1]-p[0],1E-30);k=(this.canvasRect_.h-.5)/k;var z=this.canvasRect_.w-.5,y=this.canvasRect_.h-.5,A=null,F=null;h.beginPath();h.moveTo(.5,y);for(var D=0;D<g.data.length;D++){var x=g.data[D],C=null!==x[0]?(x[0]-p[0])*u:NaN;x=null!==x[1]?y-(x[1]-g.yMin)*k:NaN;(e||null===A||Math.round(C)!=Math.round(A))&&(isFinite(C)&&isFinite(x)?(null===A?h.lineTo(C,y):e&&h.lineTo(C,F),h.lineTo(C,x),A=C,F=x):(null!==A&&(e?(h.lineTo(C,F),h.lineTo(C,y)):h.lineTo(A,y)),A=F=null))}if(h.lineTo(z,y),h.closePath(),a)e=this.bgcanvas_ctx_.createLinearGradient(0,0,0,y),b&&e.addColorStop(0,b),e.addColorStop(1,a),this.bgcanvas_ctx_.fillStyle=e,h.fill();d&&(this.bgcanvas_ctx_.strokeStyle=d,this.bgcanvas_ctx_.lineWidth=this.getOption_("rangeSelectorPlotLineWidth"),h.stroke())}};a.prototype.computeCombinedSeriesAndLimits_=function(){var a,b=this.dygraph_,d=this.getOption_("logscale"),e=b.numColumns(),k=b.getLabels(),h=Array(e),l=!1,p=b.visibility(),u=[];for(a=1;a<e;a++){var z=this.getOption_("showInRangeSelector",k[a]);u.push(z);null!==z&&(l=!0)}if(l)for(a=1;a<e;a++)h[a]=u[a-1];else for(a=1;a<e;a++)h[a]=p[a-1];e=[];k=b.dataHandler_;l=b.attributes_;for(a=1;a<b.numColumns();a++)h[a]&&(p=k.extractSeries(b.rawData_,a,l),1<b.rollPeriod()&&(p=k.rollingAverage(p,b.rollPeriod(),l)),e.push(p));b=[];for(a=0;a<e[0].length;a++){for(l=k=h=0;l<e.length;l++)p=e[l][a][1],null===p||isNaN(p)||(k++,h+=p);b.push([e[0][a][0],h/k])}h=Number.MAX_VALUE;e=-Number.MAX_VALUE;for(a=0;a<b.length;a++)k=b[a][1],null!==k&&isFinite(k)&&(!d||0<k)&&(h=Math.min(h,k),e=Math.max(e,k));if(d)for(e=g.log10(e),e+=.25*e,h=g.log10(h),a=0;a<b.length;a++)b[a][1]=g.log10(b[a][1]);else a=e-h,a=a<=Number.MIN_VALUE?.25*e:.25*a,e+=a,h-=a;return{data:b,yMin:h,yMax:e}};a.prototype.placeZoomHandles_=function(){var a=this.dygraph_.xAxisExtremes(),b=this.dygraph_.xAxisRange(),d=a[1]-a[0],e=this.canvasRect_.x+this.canvasRect_.w*(1-Math.max(0,(a[1]-b[1])/d)),g=Math.max(this.canvasRect_.y,this.canvasRect_.y+(this.canvasRect_.h-this.leftZoomHandle_.height)/2),k=this.leftZoomHandle_.width/2;this.leftZoomHandle_.style.left=this.canvasRect_.x+this.canvasRect_.w*Math.max(0,(b[0]-a[0])/d)-k+"px";this.leftZoomHandle_.style.top=g+"px";this.rightZoomHandle_.style.left=e-k+"px";this.rightZoomHandle_.style.top=this.leftZoomHandle_.style.top;this.leftZoomHandle_.style.visibility="visible";this.rightZoomHandle_.style.visibility="visible"};a.prototype.drawInteractiveLayer_=function(){var a=this.fgcanvas_ctx_;a.clearRect(0,0,this.canvasRect_.w,this.canvasRect_.h);var b=this.canvasRect_.w-1,d=this.canvasRect_.h-1,e=this.getZoomHandleStatus_();if(a.strokeStyle=this.getOption_("rangeSelectorForegroundStrokeColor"),a.lineWidth=this.getOption_("rangeSelectorForegroundLineWidth"),e.isZoomed){var g=Math.max(1,e.leftHandlePos-this.canvasRect_.x);e=Math.min(b,e.rightHandlePos-this.canvasRect_.x);a.fillStyle="rgba(240, 240, 240, "+this.getOption_("rangeSelectorAlpha").toString()+")";a.fillRect(0,0,g,this.canvasRect_.h);a.fillRect(e,0,this.canvasRect_.w-e,this.canvasRect_.h);a.beginPath();a.moveTo(1,1);a.lineTo(g,1);a.lineTo(g,d);a.lineTo(e,d);a.lineTo(e,1)}else a.beginPath(),a.moveTo(1,1),a.lineTo(1,d),a.lineTo(b,d);a.lineTo(b,1);a.stroke()};a.prototype.getZoomHandleStatus_=function(){var a=this.leftZoomHandle_.width/2,b=parseFloat(this.leftZoomHandle_.style.left)+a;a=parseFloat(this.rightZoomHandle_.style.left)+a;return{leftHandlePos:b,rightHandlePos:a,isZoomed:b-1>this.canvasRect_.x||a+1<this.canvasRect_.x+this.canvasRect_.w}};b["default"]=a;d.exports=b["default"]},{"../dygraph-interaction-model":12,"../dygraph-utils":17,"../iframe-tarp":19}]},{},[18])(18)});globalThis.modules["ui/dygraph.min.js"]={};globalThis.modules["ui/dygraph.min.js"].exports={Dygraph:Dygraph};globalThis.modules["ui/interaction.js"]={};globalThis.modules["ui/interaction.js"].exports={downV3:downV3,moveV3:moveV3,upV3:upV3,clickV3:clickV3,dblClickV3:dblClickV3,scrollV3:scrollV3};function downV3(f,a,d){d.initializeMouseDown(f,a,d);f.altKey||f.shiftKey?Dygraph.startZoom(f,a,d):Dygraph.startPan(f,a,d)}function moveV3(f,a,d){d.isPanning?Dygraph.movePan(f,a,d):d.isZooming&&Dygraph.moveZoom(f,a,d)}function upV3(f,a,d){d.isPanning?Dygraph.endPan(f,a,d):d.isZooming&&Dygraph.endZoom(f,a,d)}function offsetToPercentage(f,a,d){var b=f.toDomCoords(f.xAxisRange()[0],null)[0],g=f.yAxisRange(0),k=f.toDomCoords(null,g[1])[1];a-=b;d-=k;b=f.toDomCoords(f.xAxisRange()[1],null)[0]-b;f=f.toDomCoords(null,g[0])[1]-k;return[0==b?0:a/b,1-(0==f?0:d/f)]}function dblClickV3(f,a,d){f.offsetX&&f.offsetY||(f.offsetX=f.layerX-f.target.offsetLeft,f.offsetY=f.layerY-f.target.offsetTop);var b=offsetToPercentage(a,f.offsetX,f.offsetY);d=b[0];b=b[1];f.ctrlKey?zoom(a,-.25,d,b):zoom(a,.2,d,b)}var lastClickedGraph=null;function clickV3(f,a,d){lastClickedGraph=a;f.preventDefault();f.stopPropagation()}function scrollV3(f,a,d){d=(f.detail?-1*f.detail:f.wheelDelta/40)/50;f.offsetX&&f.offsetY||(f.offsetX=f.layerX-f.target.offsetLeft,f.offsetY=f.layerY-f.target.offsetTop);var b=offsetToPercentage(a,f.offsetX,f.offsetY);zoom(a,d,b[0],b[1]);f.preventDefault();f.stopPropagation()}function zoom(f,a,d,b){d=d||.5;f.yAxisRanges();f.updateOptions({dateWindow:function(a,b,d){b*=a[1]-a[0];d=[b*d,b*(1-d)];return[a[0]+d[0],a[1]-d[1]]}(f.xAxisRange(),a,d)})}var v4Active=!1,v4Canvas=null;function downV4(f,a,d){d.initializeMouseDown(f,a,d);v4Active=!0;moveV4(f,a,d)}var processed=[];function moveV4(f,a,d){if(v4Active){var b=Dygraph.findPos(a.graphDiv);d=Dygraph.pageX(f)-b.x;var g=Dygraph.pageY(f)-b.y,k=a.numRows();for(f=0;f<k;f++)if(b=a.getValue(f,0),b=a.toDomCoords(b,null)[0],7>Math.abs(d-b))for(var e=1;3>e;e++){var h=a.getValue(f,e);if(null!=h&&(h=a.toDomCoords(null,h[0])[1],7>Math.abs(g-h))){a=!1;for(var c in processed)if(d=processed[c],d[0]==f&&d[1]==e){a=!0;break}a||(processed.push([f,e]),drawV4(b,h));return}}}}function upV4(f,a,d){v4Active&&(v4Active=!1)}function dblClickV4(f,a,d){restorePositioning(a)}function drawV4(f,a){var d=v4Canvas;d.strokeStyle="#000000";d.fillStyle="#FFFF00";d.beginPath();d.arc(f,a,5,0,2*Math.PI,!0);d.closePath();d.stroke();d.fill()}function captureCanvas(f,a,d){v4Canvas=f}function restorePositioning(f){f.updateOptions({dateWindow:null,valueRange:null})}var synchronize;(function(){function f(a,b){if(!Array.isArray(a)||!Array.isArray(b))return!1;var d=a.length;if(d!==b.length)return!1;for(;d--;)if(a[d]!==b[d])return!1;return!0}function a(a,b,d){var e=!1;for(d=0;d<a.length;d++)a[d].updateOptions({drawCallback:function(c,d){if(!e&&!d){e=!0;var g={dateWindow:c.xAxisRange()};b.range&&(g.valueRange=c.yAxisRange());for(var h=(new Date).getTime(),k=-1,m=0;m<a.length;m++)a[m]==c?k=m:f(g.dateWindow,a[m].getOption("dateWindow"))&&f(g.valueRange,a[m].getOption("valueRange"))||a[m].updateOptions(g,!1);g=(new Date).getTime();console.log("draw time: "+(g-h)+"ms for "+k);e=!1}}},!0)}function d(a,b){for(var d=!1,f=0;f<a.length;f++)a[f].updateOptions({highlightCallback:function(c,e,f,g,h){if(!d){d=!0;for(var k=0;k<a.length;k++)if(this==a[k])b[k]&&b[k].highlightCallback&&b[k].highlightCallback.apply(this,arguments);else{var l=a[k].getRowForX(e);null!==l&&a[k].setSelection(l,h)}d=!1}},unhighlightCallback:function(c){if(!d){d=!0;for(var e=0;e<a.length;e++)this==a[e]?b[e]&&b[e].unhighlightCallback&&b[e].unhighlightCallback.apply(this,arguments):a[e].clearSelection();d=!1}}},!0)}var b;window.Dygraph?b=window.Dygraph:"undefined"!==typeof module&&(b=require("../dygraph"));synchronize=function(){if(0===arguments.length)throw"Invalid invocation of Dygraph.synchronize(). Need >= 1 argument.";var f=["selection","zoom","range"],k={selection:!0,zoom:!0,range:!0},e=[],h=[],c=function(a){if(a instanceof Object)for(var b=0;b<f.length;b++){var c=f[b];a.hasOwnProperty(c)&&(k[c]=a[c])}else throw"Last argument must be either Dygraph or Object.";};if(arguments[0]instanceof b){for(var m=0;m<arguments.length;m++)if(arguments[m]instanceof b)e.push(arguments[m]);else break;if(m<arguments.length-1)throw"Invalid invocation of Dygraph.synchronize(). All but the last argument must be Dygraph objects.";m==arguments.length-1&&c(arguments[arguments.length-1])}else if(arguments[0].length){for(m=0;m<arguments[0].length;m++)e.push(arguments[0][m]);if(2==arguments.length)c(arguments[1]);else if(2<arguments.length)throw"Invalid invocation of Dygraph.synchronize(). Expected two arguments: array and optional options argument.";}else throw"Invalid invocation of Dygraph.synchronize(). First parameter must be either Dygraph or list of Dygraphs.";if(2>e.length)throw"Invalid invocation of Dygraph.synchronize(). Need two or more dygraphs to synchronize.";var w=e.length;for(m=0;m<e.length;m++)e[m].ready(function(){if(0==--w){for(var b=["drawCallback","highlightCallback","unhighlightCallback"],c=0;c<e.length;c++){h[c]||(h[c]={});for(var f=b.length-1;0<=f;f--)h[c][b[f]]=e[c].getFunctionOption(b[f])}k.zoom&&a(e,k,h);k.selection&&d(e,h)}});return{detach:function(){for(var a=0;a<e.length;a++){var b=e[a];k.zoom&&b.updateOptions({drawCallback:h[a].drawCallback});k.selection&&b.updateOptions({highlightCallback:h[a].highlightCallback,unhighlightCallback:h[a].unhighlightCallback})}h=k=e=null}}};b.synchronize=synchronize})();globalThis.modules["ui/synchronizer.js"]={};globalThis.modules["ui/synchronizer.js"].exports={synchronize:synchronize};var geid=document.getElementById.bind(document),ONEDOTMSAROUND=3E4,USECSV=!1,USERANGESUBSET=!0;function changeStylesheetRule(f,a,d,b){a=a.toLowerCase();d=d.toLowerCase();b=b.toLowerCase();for(var g=0;g<f.cssRules.length;g++){var k=f.cssRules[g];if(k.selectorText===a){k.style[d]=b;return}}f.insertRule(a+" { "+d+": "+b+"; }",0)}var LogGraphGroup=function(f,a,d){this.name=f;this.graphs=[];this.component=a;f=0;a=40;this.colorset=["#4444AA","#AA4444","#44AA44","#AAAA44"];for(var b=Object.keys(d).length,g=4;g<b;g++){for(var k,e=!1,h=100;!e;){h--;0>h&&(h=100,a--,console.log("reducing color threshold to "+a));k=getRandomColor();e=!0;for(var c in this.colorset)if(deltaE(hexToRgb(k),hexToRgb(this.colorset[c]))<a){e=!1;break}}this.colorset.push(k)}this.createCanvas(this.name+f);this.createConfig(d);f=0;f++;for(g in d)this.createRangeCanvas(this.name+f),f++};LogGraphGroup.prototype.createConfig=function(f){var a={},d;for(d in f){var b=f[d].unit;void 0==b&&(b="");a[b]||(a[b]=[]);a[b].push(d)}f={series:{y:[],y2:[]},axis:{y:{},y2:{}}};var g=b=0;for(d in a){if(0==g){for(var k in a[d])f.series.y.push({name:a[d][k],unit:d,color:this.colorset[b]}),b++;f.axis.y={unit:d}}else if(1==g){for(k in a[d])f.series.y2.push({name:a[d][k],unit:d,color:this.colorset[b]}),b++;f.axis.y2={unit:d}}else break;g++}this.groups=a;this.config=f};LogGraphGroup.prototype.init=function(f,a,d){this.config.labels=a;a=0;d=new LogDygraph(this.name+a);d.init(f,this.config);a++;for(var b in this.groups)for(var g in this.groups[b])d.addRange(this.name+a,this.groups[b][g],this.colorset[a-1]),a++;this.graph=d};LogGraphGroup.prototype.update=function(f,a){this.graph.update(f,a)};LogGraphGroup.prototype.createCanvas=function(f){f=new Component(f);f.tag="div";f.style="width:100%;";this.component.addComponent(f)};LogGraphGroup.prototype.createRangeCanvas=function(f){f=new Component(f);f.tag="div";f.style="width:100%;height:30px";this.component.addComponent(f)};globalThis.modules["ui/LogDygraph.js"]={};globalThis.modules["ui/LogDygraph.js"].exports={LogGraphGroup:LogGraphGroup};function getRandomColor(){for(var f="#",a=0;6>a;a++)f+="0123456789ABCDEF"[Math.floor(16*random())];return f}var seed=1;function random(){var f=1E4*Math.sin(seed++);return f-Math.floor(f)}function deltaE(f,a){var d=rgb2lab(f),b=rgb2lab(a),g=d[0]-b[0],k=d[1]-b[1],e=d[2]-b[2];d=Math.sqrt(d[1]*d[1]+d[2]*d[2]);b=d-Math.sqrt(b[1]*b[1]+b[2]*b[2]);k=k*k+e*e-b*b;k=0>k?0:Math.sqrt(k);g/=1;e=b/(1+.045*d);d=k/(1+.015*d);d=g*g+e*e+d*d;return 0>d?0:Math.sqrt(d)}function rgb2lab(f){var a=f[0]/255,d=f[1]/255,b=f[2]/255;a=.04045<a?Math.pow((a+.055)/1.055,2.4):a/12.92;d=.04045<d?Math.pow((d+.055)/1.055,2.4):d/12.92;b=.04045<b?Math.pow((b+.055)/1.055,2.4):b/12.92;f=(.4124*a+.3576*d+.1805*b)/.95047;var g=.2126*a+.7152*d+.0722*b;a=(.0193*a+.1192*d+.9505*b)/1.08883;f=.008856<f?Math.pow(f,1/3):7.787*f+16/116;g=.008856<g?Math.pow(g,1/3):7.787*g+16/116;a=.008856<a?Math.pow(a,1/3):7.787*a+16/116;return[116*g-16,500*(f-g),200*(g-a)]}function hexToRgb(f){f=f.match(/^#?([\da-f]{2})([\da-f]{2})([\da-f]{2})$/i);return[parseInt(f[1],16),parseInt(f[2],16),parseInt(f[3],16)]}var LogDygraph=function(f){this.name=f;this.ranges=[];this.usecsv=USECSV;this.userangesubset=USERANGESUBSET};LogDygraph.prototype.getMainSeries=function(){return this.usecvs?toCSV(this.data):this.data};LogDygraph.prototype.init=function(f,a){this.config=a;this.data=f;this.labels=a.labels;var d=this.getMainSeries(),b="",g="";a.axis&&(a.axis.y2&&a.axis.y2.color&&changeStylesheetRule(document.styleSheets[0],".dygraph-axis-label-y2","color",a.axis.y2.color),a.axis.y&&a.axis.y.color&&changeStylesheetRule(document.styleSheets[0],".dygraph-axis-label-y","color",a.axis.y.color),a.axis.y2&&a.axis.y2.unit&&(g=a.axis.y2.unit),a.axis.y&&a.axis.y.unit&&(b=a.axis.y.unit));changeStylesheetRule(document.styleSheets[0],".dygraph-legend","text-align","left");changeStylesheetRule(document.styleSheets[0],".dygraph-legend","margin-left","80px");var k="",e="";a.series.y[0].unit&&(k=a.series.y[0].unit);a.series.y2[0]&&a.series.y2[0].unit&&(e=a.series.y2[0].unit);b=new labelformatter(k,b);g=new labelformatter(e,g);e=a.labels;k={};for(var h in a.series.y)k[a.series.y[h].name]={axis:"y"};for(h in a.series.y2)k[a.series.y2[h].name]={axis:"y2"};h=a.title|0;this.im={mousedown:downV3,mousemove:moveV3,mouseup:upV3,click:clickV3,dblclick:dblClickV3,mousewheel:function(a,b,c){scrollV3(a,b,c)}};var c=getPropertySubArray(a.series.y,"color"),m=getPropertySubArray(a.series.y2,"color");this.vcolorsall=c=c.concat(m);Dygraph.ANIMATION_DURATION=0;b={labels:e,animatedZooms:!1,series:k,title:h,pointSize:1.5,connectSeparatedPoints:!0,drawPoints:!0,colors:c,ylabel:a.axis.y.label|0,y2label:a.axis.y2.label|0,labelsSeparateLines:!0,labelsShowZeroValues:!1,highlightSeriesBackgroundAlpha:.8,highlightSeriesOpts:{strokeWidth:2,strokeBorderWidth:1,highlightCircleSize:4},legendFormatter:function(a){var b=a.series.sort(function(a,b){var c=a.label,d=b.label;if(c<d)return-1;if(c==d)return 0;if(c>d)return 1});if(null==a.x)return""+b.map(function(a){return'<span style="font-weight: bold; color: '+a.color+';">'+a.dashHTML+a.labelHTML+"</span>"}).join("<br>");var c=this.getLabels()[0]+": "+a.xHTML;b.forEach(function(a){var b=a.yHTML;void 0==b&&(b="-");a.isVisible&&(b='<span style="text-align: left; color: '+a.color+';">'+a.dashHTML+"&nbsp;"+a.labelHTML+": "+b+"</span>",a.isHighlighted&&(b="<b>"+b+"</b>"),c+="<br>"+a.dashHTML+" "+b)});return c},axes:{y:b,y2:g,axisLabelWidth:100},legend:"always",interactionModel:this.im,showRoller:!0};g=(new Date(d[0][0])).getTime()-ONEDOTMSAROUND;e=(new Date(d[0][0])).getTime()+ONEDOTMSAROUND;0>g&&(g=0);1==d.length&&(b.dateWindow=[new Date(g),new Date(e)]);this.maingraph=new Dygraph(geid(this.name),d,b);window.onresize=function(a){this.maingraph.maindiv_.children[0].style.width="100%";this.maingraph.resize();for(var b in this.ranges)this.ranges[b].maindiv_.children[0].style.width="100%",this.ranges[b].resize()}.bind(this)};LogDygraph.prototype.getRangeNamesY=function(f){var a=getPropertySubArray(this.config.series.y,"name"),d;for(d in a)if(a[d]==f){a=[f];break}1<a.length&&(a=[a[0]]);return a};LogDygraph.prototype.getRangeNamesY2=function(f){var a=getPropertySubArray(this.config.series.y2,"name"),d;for(d in a)if(a[d]==f){a=[f];break}1<a.length&&(a=[a[0]]);return a};LogDygraph.prototype.getRangeSeries=function(f){if(!this.userangesubset)return this.getMainSeries();for(var a=0;a<this.labels.length&&this.labels[a]!=f;a++);if(a==this.labels.length)return 0;f=getSubSeries(this.data,a);1==f.length&&(a=new Date(f[0][0].getTime()),f.push(f.slice(0)[0].slice(0)),f[0][0]=new Date(a.getTime()-ONEDOTMSAROUND),f[1][0]=new Date(a.getTime()+ONEDOTMSAROUND));return f};LogDygraph.prototype.getRangeLabels=function(f,a){if(this.userangesubset){var d=["Date"];d.push(f);a&&d.push(a[0]);return d}return this.labels};LogDygraph.prototype.getRangeSeriesObj=function(f,a,d){var b={},g;for(g in a)b[a]={axis:"y"};for(g in d)b[d]={axis:"y2"};b[f].showInRangeSelector=!0;return b};LogDygraph.prototype.addRange=function(f,a,d){var b=this.getRangeSeries(a),g=this.getRangeNamesY(a),k=this.getRangeNamesY2(a),e=this.getRangeLabels(a,k);a=this.getRangeSeriesObj(a,g,k);g=30;(k=geid(f).style)&&k.height&&"px"==k.height.substr(k.height.length-2,k.height.length)&&(g=Number(k.height.substr(0,k.height.length-2)));d={xAxisHeight:g,visibility:[!1,!1,!1,!1,!1,!1,!1,!1],plotter:function(a){},animatedZooms:!1,connectSeparatedPoints:!0,labels:e,drawPoints:!1,fillGraph:!1,series:a,axes:{drawAxis:!1,x:{axisLabelFormatter:function(a){return""}}},showRangeSelector:!0,interactionModel:this.im,rangeSelectorHeight:g,showLabelsOnHighlight:!1,rangeSelectorPlotStrokeColor:d,rangeSelectorPlotFillGradientColor:d,rangeSelectorPlotFillColor:"#FFFFFF",underlayCallback:function(a){a.save()},drawCallback:function(a){a.canvas_ctx_.restore()}};f=new Dygraph(geid(f),b,d);this.ranges.push(f);f=[];f.push(this.maingraph);for(var h in this.ranges)f.push(this.ranges[h]);1<f.length&&Dygraph.synchronize(f,{selection:!1,zoom:!0,range:!1})};LogDygraph.prototype.updateMainGraph=function(){var f=this.getMainSeries(),a={file:f},d=f[f.length-1][0].getTime();f=f[0][0].getTime();var b=!1,g=!1;this.maingraph.xAxisRange()[1]>=this.maingraph.xAxisExtremes()[1]&&this.maingraph.xAxisRange()[1]<d&&(g=!0);this.maingraph.xAxisRange()[0]<=this.maingraph.xAxisExtremes()[0]&&this.maingraph.xAxisRange()[0]>f&&(b=!0);if(b||g)b||this.maingraph.xAxisRange()[0]==this.maingraph.rawData_[0][0]||(f=this.maingraph.xAxisRange()[0]),g||this.maingraph.xAxisRange()[1]==this.maingraph.rawData_[this.maingraph.rawData_.length-1][0]||(d=this.maingraph.xAxisRange()[1]),a.dateWindow=[f,d];this.maingraph.updateOptions(a,!1);this.maingraph.resize()};LogDygraph.prototype.updateRangeGraph=function(f,a){var d=f.getLabels()[1];d=this.getRangeSeries(d);var b={file:d};d[d.length-1][0].getTime();b.dateWindow=[this.maingraph.xAxisRange()[0],this.maingraph.xAxisRange()[1]];f.updateOptions(b);f.resize()};LogDygraph.prototype.update=function(f,a){this.data=f;this.labels=a;this.updateMainGraph();for(var d in this.ranges)this.updateRangeGraph(this.ranges[d],d)};function toCSV(f){var a="",d;for(d in f){var b=!0,g;for(g in f[d])b?b=!1:a+=", ",null!=f[d][g]&&(a+=f[d][g]);a+="\n"}return a}function getPropertySubArray(f,a){return f.map(function(d){return d[a]})}function labelformatter(f){this.valueFormatter=function(a){a=a.toFixed(2);f&&(a+=f);return a}.bind(this);this.axisLabelFormatter=function(a){a=a.toFixed(2);f&&(a+=f);return a}.bind(this);this.pixelsPerLabel=20}function getRatio(f){var a=f.xAxisRange()[1]-f.xAxisRange()[0];f=f.rawData_.length*a/(f.rawData_[f.rawData_.length-1][0]-f.rawData_[0][0])*100/f.size().width;console.log(f);return f=Math.round(f)}function extractData(f,a){var d=[],b;for(b in f)d.push([f[b][0],f[b][a]]);return d}function getSubSeries(f,a){var d=[],b;for(b in f)null!=f[b][a]&&d.push([f[b][0],f[b][a],0]);return d}geid=document.getElementById.bind(document);lightgray="#BBBBBB";var UserView=function(){EventEmitter.call(this);console.log("UserView");this.panel=new Panel};$jscomp.inherits(UserView,EventEmitter);UserView.prototype.createNode=function(f,a,d,b){this.panel.hasComponent(a)?(a=this.panel.getComponent(a),a.hasComponent(d)?d=a.getComponent(d):(d=new Table(d),a.addComponent(d))):(a=this.panel.addPanel(a,"display:inline-block;"),d=new Table(d),a.addComponent(d));f=new NodeView(f,b);d.addComponentAlphabeticOrder(f.getComponent());return f};UserView.prototype.updateServerInfo=function(f){this.serverview?this.serverview.update(f):(this.serverview=new ServerView(f),f=this.serverview.getComponent().getHtml(),geid("serverstatus").innerHTML=f,this.serverview.init())};UserView.prototype.updateLogView=function(f,a,d){if(f&&0!=f.length&&0!=f[0].length){var b=!0,g;for(g in f)if(1<f[g].length){b=!1;break}b||(this.logview?this.logview.updateGraph(f,a):(this.logview=new LogGraphicView(f,a,d),this.panel.addComponent(this.logview.getComponent()),f=this.logview.getComponent().getHtml(),geid("loginterface").innerHTML=f,this.logview.init()))}else console.log("Log data table received from /log/ empty.")};UserView.prototype.init=function(){var f=this.panel.getHtml();geid("userinterface").innerHTML=f};UserView.prototype.update=function(){};var NodeView=function(f,a){EventEmitter.call(this);this.name=f;this.component=new Component(f);var d=new TableRow(f+"row");this.component.addComponent(d);var b=new TableCell(f+"cellname");d.addComponent(b);var g=new TextLabel(f+"name",f);b.addComponent(g);g=new TableCell(f+"cellvalue");g.style="text-align:center";d.addComponent(g);b=a.unit;void 0==b&&(b="");var k=new TextLabel(f+"value",""+a.val+b);g.addComponent(k);g=new TableCell(f+"cellminmax");g.style="text-align:center";d.addComponent(g);b=new TextLabel(f+"minmax","["+a.minval+b+", "+a.maxval+b+"]");b.fontsize=.7;g.addComponent(b);b=new TableCell(f+"alarm");b.style="text-align:center";d.addComponent(b);this.alarmview=new AlarmView(f,a.val);b.addComponent(this.alarmview.component)};$jscomp.inherits(NodeView,EventEmitter);NodeView.prototype.update=function(f){var a=this.component.findByName(this.name+"value");if(a){var d=""+f.val;f.unit&&(d+=f.unit);a.text!=d&&(a.update(d),f.val&&this.alarmview.update(f.val))}if(a=this.component.findByName(this.name+"minmax")){if(f.unit)var b=f.unit;f="["+f.minval+b+", "+f.maxval+b+"]";a.text!=d&&a.update(f)}};NodeView.prototype.getComponent=function(){return this.component};function removeA(f){for(var a,d=arguments,b=d.length,g;1<b&&f.length;)for(a=d[--b];-1!==(g=f.indexOf(a));)f.splice(g,1);return f}var lightred="#FFDDDD";function getNumber(f){for(;0<=f.search(" ");)f=f.replace(" ","");return!f.length||isNaN(f)?Number.NaN:Number(f)}var AlarmView=function(f,a){function d(a){a=getNumber(a);return isNaN(a)?(g.updateStyle("backgroundColor",lightred),setTimeout(function(){g.updateStyle("backgroundColor","white")},2E3),!1):!0}this.name=f+"alarm";this.value=getNumber(a);this.component=new DivComponent(this.name);this.component.style="width:100;vertical-align: text-top;border-style: solid;border-width: 1px;border-color:"+lightgray+";padding:2px;";var b=ComponentFactory.create(this.name+"active","BinaryComponent","labels","\ud83d\udd14","\ud83d\udd14",{usegray:!0});b.style+="font-size:120%; font-weight: bold;vertical-align:inherit;";this.component.addComponent(b);b.posttag||(b.posttag="");b.posttag+="&nbsp;&nbsp;&nbsp;";var g=new TextAreaComponent(this.name+"text","",1.5),k=ComponentFactory.create(this.name+"compare","BinaryComponent","select",">","\u2264");k.style+="font-size:120%; font-weight: bold;vertical-align:inherit;";this.component.addComponent(k);k.posttag||(k.posttag="");k.posttag+="&nbsp;";g.style+="font-size:100%;vertical-align:inherit;";this.component.addComponent(g);g.posttag||(g.posttag="");g.posttag+="&nbsp;&nbsp;";var e=ComponentFactory.create(this.name+"loop","BinaryComponent","labels","\u27f6 ","\u27f2 ",{usegray:!1,border:!0});e.style+="font-size:60%; font-weight: bold;vertical-align:inherit;padding:2px 3px 0px 2px;";e.posttag||(e.posttag="");e.posttag+="&nbsp;";var h=new SelectComponent(this.name+"file",["bell.mp3","foghorn.mp3"]);h.style+="font-size:55%;padding:2px;vertical-align:inherit;";h.posttag||(h.posttag="");h.posttag+="&nbsp;";this.component.addComponent(h);this.component.addComponent(e);b.notify=function(a){return d(g.text)?(this.switchAlarm(),!0):!1}.bind(this);g.notify=function(a){return d(a)?(g.text=a,this.updateAlarm(),!0):!1}.bind(this);e.postnotify=function(a){if(this.runningstate){var b=AudioFiles.sources[this.name+"audio"];1==a.state?b?AudioFiles.setLoop(this.name+"audio",!0):AudioFiles.startSound(this.name+"audio",this.filecomp.entries[this.filecomp.selected],this.loopcomp.state):b&&AudioFiles.setLoop(this.name+"audio",!1)}}.bind(this);h.postnotify=function(a){if(this.runningstate){a=this.filecomp.entries[this.filecomp.selected];var b=AudioFiles.sources[this.name+"audio"];this.runningstate&&(b&&b[0].url!=a&&AudioFiles.stopSound(this.name+"audio"),AudioFiles.startSound(this.name+"audio",this.filecomp.entries[this.filecomp.selected],this.loopcomp.state))}}.bind(this);k.postnotify=function(a){this.updateAlarm()}.bind(this);this.activecomp=b;this.comparecomp=k;this.textcomp=g;this.loopcomp=e;this.filecomp=h;this.runningstate=this.activestate=!1};AlarmView.prototype.switchAlarm=function(){console.log("switchAlarm");this.activestate=this.activestate?!1:!0;this.updateAlarm()};AlarmView.prototype.updateAlarm=function(){if(this.activestate){var f=this.testAlarm();f&&!this.runningstate&&this.startAlarm();!f&&this.runningstate&&this.stopAlarm()}else this.runningstate&&this.stopAlarm()};AlarmView.prototype.update=function(f){this.value=getNumber(f);this.updateAlarm()};AlarmView.prototype.testAlarm=function(){var f=getNumber(this.textcomp.text),a=">";1==this.comparecomp.state&&(a="<=");return">"==a&&this.value>f||"<="==a&&this.value<=f?!0:!1};AlarmView.prototype.startAlarm=function(){this.activecomp.opt.usegray=!1;this.activecomp.updateStyle("color","#FFAAAA");this.runningstate=!0;AudioFiles.startSound(this.name+"audio",this.filecomp.entries[this.filecomp.selected],this.loopcomp.state)};AlarmView.prototype.stopAlarm=function(){this.activecomp.opt.usegray=!0;this.activecomp.updateStyle("color","black");this.runningstate=!1;AudioFiles.stopSound(this.name+"audio")};var AudioFiles={databuffers:{},sources:{},audioContext:new AudioContext,loadAudioFile:function(f,a){var d=new XMLHttpRequest;d.open("GET",f,!0);d.responseType="arraybuffer";d.onload=function(){this.audioContext.decodeAudioData(d.response,function(b){databuffer=b;a(b)},function(a){"Error with decoding audio data"+a.err})}.bind(this);d.send()},startFromBuffer:function(f,a,d){d=void 0===d?!1:d;if(!this.databuffers[a])return!1;var b=this.audioContext.createBufferSource();b.buffer=this.databuffers[a];b.connect(this.audioContext.destination);b.loop=d;b.onended=function(){b.disconnect();this.sources[f]&&(removeA(this.sources[f],b),0==this.sources[f].length&&delete this.sources[f])}.bind(this);b.start(0);b.url=a;this.sources[f]||(this.sources[f]=[]);this.sources[f].push(b);return!0},stopSound:function(f){if(this.sources[f]){for(var a in this.sources[f])this.sources[f][a].stop(),removeA(this.sources[f],this.sources[f][a]);0==this.sources[f].length&&delete this.sources[f]}},setLoop:function(f,a){for(var d in this.sources[f])this.sources[f][d].loop=a},startSound:function(f,a,d){this.databuffers[a]?this.startFromBuffer(f,a,d):this.loadAudioFile(a,function(b){this.databuffers[a]=b;this.startFromBuffer(f,a,d)}.bind(this))}},ServerView=function(f){this.name="serverview";this.serverinfo=f;this.component=new Panel("Status","font-size:85%;display:inline-block;");var a=new Table("");this.component.addComponent(a);var d=new TableRow(this.name+"row"),b=new TableCell(this.name+"cell");a.addComponent(d);d.addComponent(b);this.serverstatuslabel=new TextLabel(this.name+"label",f.status);this.serverreceivedlabel=new TextLabel(this.name+"label2",this.getReceivedMessage(f));"online"==f.status&&(this.serverstatuslabel.style="color:green;font-weight:bold;",this.serverstatuslabel.fontsize=1.2);b.addComponent(this.serverstatuslabel);b.addComponent(this.serverreceivedlabel);f.lastresponsetime&&(a=new TextLabel(this.name+"lastresponsetime1","last response "),this.lastresponsetimelabel=new TextLabel(this.name+"lastresponsetime2",this.formatDate(f.lastresponsetime)),this.lastresponsetimelabel.fontsize=.8,b=new TableCell(this.name+"cell3"),b.addComponent(a),b.addComponent(this.lastresponsetimelabel),d.addComponent(b));f.boottime&&(a=new TextLabel(this.name+"boottime1","started "),this.boottimelabel=new TextLabel(this.name+"boottime2",(new Date(Number(f.boottime))).toLocaleString()),this.boottimelabel.fontsize=.8,b=new TableCell(this.name+"cell2"),b.addComponent(a),b.addComponent(this.boottimelabel),d.addComponent(b))};ServerView.prototype.getReceivedMessage=function(f){var a="no data/log received",d=!1,b=!1;if(f.load||f.reload)d=!0;if(f.logload||f.logreload)b=!0;d&&b?a="data&log received":d?a="data received/no log":b&&(a="no data/log received");return a};ServerView.prototype.formatDate=function(f){return(new Date(Number(f))).toLocaleString()};ServerView.prototype.init=function(){};ServerView.prototype.getComponent=function(){return this.component};ServerView.prototype.update=function(f){this.lastresponsetimelabel&&this.lastresponsetimelabel.text!=this.formatDate(f.lastresponsetime)&&this.lastresponsetimelabel.update(this.formatDate(f.lastresponsetime));this.boottimelabel&&this.boottimelabel.text!=this.formatDate(f.boottime)&&(this.boottimelabel.update(this.formatDate(f.boottime)),this.boottimelabel.updateStyle("color","red"));this.serverstatuslabel&&this.serverstatuslabel.text!=f.status&&(this.serverstatuslabel.update(f.status),"online"==f.status?(this.serverstatuslabel.updateStyle("color","green"),this.lastresponsetimelabel.updateStyle("color","black")):(this.serverstatuslabel.updateStyle("color","red"),this.lastresponsetimelabel.updateStyle("color","red")));this.serverreceivedlabel&&this.serverreceivedlabel.text!=this.getReceivedMessage(f)&&this.serverreceivedlabel.update(this.getReceivedMessage(f))};var LogGraphicView=function(f,a,d){this.name="graphiclog";this.rawdata=f;this.labels=a;this.nodes=d;this.component=new Panel(this.name+"container","","log ("+this.countPoints(f)+" time point)");this.graphgroup=new LogGraphGroup(this.name,this.component,d)};LogGraphicView.prototype.countPoints=function(f){return f.length};LogGraphicView.prototype.init=function(){this.graphgroup.init(this.rawdata,this.labels,this.nodes)};LogGraphicView.prototype.updateGraph=function(f,a){geid(this.name+"container").children[0].children[0].innerHTML="log ("+this.countPoints(f)+" time point)";this.graphgroup.update(f,a)};LogGraphicView.prototype.getComponent=function(){return this.component};var LogTableView=function(f){this.name="log";this.rawdata=f;this.component=new Table(this.name);this.addRows(f)};LogTableView.prototype.addRows=function(f){for(var a in f){this.addRow("logchannelname"+a,a," ",1);var d=0,b=f[a].slice(0).reverse(),g;for(g in b){var k=b[g],e=(new Date(Number(k[0]))).toString().substring(4,24);this.addRow("logdata"+a+d,e,k[1],.85);d++}}};LogTableView.prototype.update=function(f){this.component.components={};this.addRows(f);geid(this.name).innerHTML=this.component.getChildrenHtml()};LogTableView.prototype.addRow=function(f,a,d,b){var g=new TableRow(f+"row");g.style="font-size:"+100*b+"%;";this.component.addComponent(g);b=new TableCell(f+"cell1");b.style="padding-top:0.2em;padding-bottom:0";g.addComponent(b);a=new TextLabel(f+"cell1text1",a);b.addComponent(a);d&&(a=new TableCell(f+"cell2"),a.style="padding-top:0.2em;padding-bottom:0",g.addComponent(a),f=new TextLabel(f+"cell2text1",d),a.addComponent(f))};LogTableView.prototype.getComponent=function(){return this.component};globalThis.modules["ui/UserView.js"]={};globalThis.modules["ui/UserView.js"].exports={UserView:UserView};var Controller=function(f,a){function d(a,d){for(var b in a)for(var e in a[b]){var f=!1,c;for(c in a[b][e])if("string"==typeof a[b][e][c]){f=!0;break}f&&d(b,e)}}console.log("Controller");this.model=f;this.view=a;this.nodecontrollers={};this.model.subscribe("load",function(a){console.log("Controller: got load event from model "+a);var b=this.model.data;d(b,function(a,d){var e=new NodeController(d,a,b[a][d],this);this.nodecontrollers[a]||(this.nodecontrollers[a]={});this.nodecontrollers[a][d]=e}.bind(this));this.view.init()}.bind(this));this.model.subscribe("serverinfo",function(a){console.log("Controller: got serverinfo event from model "+a);this.view.updateServerInfo(this.model.serverinfo)}.bind(this));this.model.subscribe("reload",function(a){console.log("Controller: got reload event from model "+a);var b=this.model.data;d(b,function(a,d){this.nodecontrollers[a]&&this.nodecontrollers[a][d]&&this.nodecontrollers[a][d].update(b[a][d])}.bind(this));this.view.update()}.bind(this));this.model.subscribe("logload",function(a){console.log("Controller: got logload event from model "+a);this.view.updateLogView(this.model.series,this.model.labels,this.model.data.nodes)}.bind(this));this.model.subscribe("logreload",function(a){console.log("Controller: got logreload event from model "+a);this.view.updateLogView(this.model.series,this.model.labels)}.bind(this));this.view.subscribe("init",function(a){console.log("Controller: got event from view "+a)}.bind(this))},NodeController=function(f,a,d,b){console.log("NodeController");this.nodeview=b.view.createNode(f,a,d.type,d);this.nodeview.subscribe("userupdate",this.react)};NodeController.prototype.update=function(f){this.nodeview.update(f)};globalThis.modules["Controller.js"]={};globalThis.modules["Controller.js"].exports={Controller:Controller};geid=document.getElementById.bind(document);function initclient(){var f=new RemoteModel,a=new UserView;new Controller(f,a);f.init();geid("userinterface").innerHTML="client initialized";geid("title").innerHTML="IOktopus v0.15"}var multifile=!0;window.onload=function(){loadFav("/favicon.png?v1",function(){});loadBottomImage(function(){});initclient()};function loadBottomImage(f){var a=document.createElement("img");a.src="/favicon.png";a.alt="IOktopus";a.style="width:120px;";a.onload=f;document.getElementsByTagName("body")[0].appendChild(a)};